webpackJsonp([1],{"2Kci":function(e,t){},"64e6":function(e,t){},DwZm:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("l4ih");var r=a("SmF8"),l=a.n(r),n=a("MVMM"),o=(a("uxEr"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var s=a("vSla")({name:"app"},o,!1,function(e){a("DwZm")},null,null).exports,i=a("zO6J"),c=a("4YfN"),d=a.n(c),m=[{bankName:"中国邮政储蓄银行",bankCode:"PSBC",patterns:[{reg:/^(621096|621098|622150|622151|622181|622188|622199|955100|621095|620062|621285|621798|621799|621797|620529|621622|621599|621674|623218|623219)\d{13}$/g,cardType:"DC"},{reg:/^(62215049|62215050|62215051|62218850|62218851|62218849)\d{11}$/g,cardType:"DC"},{reg:/^(622812|622810|622811|628310|625919)\d{10}$/g,cardType:"CC"}]},{bankName:"中国工商银行",bankCode:"ICBC",patterns:[{reg:/^(620200|620302|620402|620403|620404|620406|620407|620409|620410|620411|620412|620502|620503|620405|620408|620512|620602|620604|620607|620611|620612|620704|620706|620707|620708|620709|620710|620609|620712|620713|620714|620802|620711|620904|620905|621001|620902|621103|621105|621106|621107|621102|621203|621204|621205|621206|621207|621208|621209|621210|621302|621303|621202|621305|621306|621307|621309|621311|621313|621211|621315|621304|621402|621404|621405|621406|621407|621408|621409|621410|621502|621317|621511|621602|621603|621604|621605|621608|621609|621610|621611|621612|621613|621614|621615|621616|621617|621607|621606|621804|621807|621813|621814|621817|621901|621904|621905|621906|621907|621908|621909|621910|621911|621912|621913|621915|622002|621903|622004|622005|622006|622007|622008|622010|622011|622012|621914|622015|622016|622003|622018|622019|622020|622102|622103|622104|622105|622013|622111|622114|622017|622110|622303|622304|622305|622306|622307|622308|622309|622314|622315|622317|622302|622402|622403|622404|622313|622504|622505|622509|622513|622517|622502|622604|622605|622606|622510|622703|622715|622806|622902|622903|622706|623002|623006|623008|623011|623012|622904|623015|623100|623202|623301|623400|623500|623602|623803|623901|623014|624100|624200|624301|624402|623700|624000)\d{12}$/g,cardType:"DC"},{reg:/^(622200|622202|622203|622208|621225|620058|621281|900000|621558|621559|621722|621723|620086|621226|621618|620516|621227|621288|621721|900010|623062|621670|621720|621379|621240|621724|621762|621414|621375|622926|622927|622928|622929|622930|622931|621733|621732|621372|621369|621763)\d{13}$/g,cardType:"DC"},{reg:/^(402791|427028|427038|548259|621376|621423|621428|621434|621761|621749|621300|621378|622944|622949|621371|621730|621734|621433|621370|621764|621464|621765|621750|621377|621367|621374|621731|621781)\d{10}$/g,cardType:"DC"},{reg:/^(9558)\d{15}$/g,cardType:"DC"},{reg:/^(370246|370248|370249|370247|370267|374738|374739)\d{9}$/g,cardType:"CC"},{reg:/^(427010|427018|427019|427020|427029|427030|427039|438125|438126|451804|451810|451811|458071|489734|489735|489736|510529|427062|524091|427064|530970|530990|558360|524047|525498|622230|622231|622232|622233|622234|622235|622237|622239|622240|622245|622238|451804|451810|451811|458071|628288|628286|622206|526836|513685|543098|458441|622246|544210|548943|356879|356880|356881|356882|528856|625330|625331|625332|622236|524374|550213|625929|625927|625939|625987|625930|625114|622159|625021|625022|625932|622889|625900|625915|625916|622171|625931|625113|625928|625914|625986|625925|625921|625926|625942|622158|625917|625922|625934|625933|625920|625924|625017|625018|625019)\d{10}$/g,cardType:"CC"},{reg:/^(45806|53098|45806|53098)\d{11}$/g,cardType:"CC"},{reg:/^(622210|622211|622212|622213|622214|622220|622223|622225|622229|622215|622224)\d{10}$/g,cardType:"SCC"},{reg:/^(620054|620142|620184|620030|620050|620143|620149|620124|620183|620094|620186|620148|620185)\d{10}$/g,cardType:"PC"},{reg:/^(620114|620187|620046)\d{13}$/g,cardType:"PC"}]},{bankName:"中国农业银行",bankCode:"ABC",patterns:[{reg:/^(622841|622824|622826|622848|620059|621282|622828|622823|621336|621619|622821|622822|622825|622827|622845|622849|623018|623206|621671|622840|622843|622844|622846|622847|620501)\d{13}$/g,cardType:"DC"},{reg:/^(95595|95596|95597|95598|95599)\d{14}$/g,cardType:"DC"},{reg:/^(103)\d{16}$/g,cardType:"DC"},{reg:/^(403361|404117|404118|404119|404120|404121|463758|519412|519413|520082|520083|552599|558730|514027|622836|622837|628268|625996|625998|625997|622838|625336|625826|625827|544243|548478|628269)\d{10}$/g,cardType:"CC"},{reg:/^(622820|622830)\d{10}$/g,cardType:"SCC"}]},{bankName:"中国银行",bankCode:"BOC",patterns:[{reg:/^(621660|621661|621662|621663|621665|621667|621668|621669|621666|456351|601382|621256|621212|621283|620061|621725|621330|621331|621332|621333|621297|621568|621569|621672|623208|621620|621756|621757|621758|621759|621785|621786|621787|621788|621789|621790|622273|622274|622771|622772|622770|621741|621041)\d{13}$/g,cardType:"DC"},{reg:/^(621293|621294|621342|621343|621364|621394|621648|621248|621215|621249|621231|621638|621334|621395|623040|622348)\d{10}$/g,cardType:"DC"},{reg:/^(625908|625910|625909|356833|356835|409665|409666|409668|409669|409670|409671|409672|512315|512316|512411|512412|514957|409667|438088|552742|553131|514958|622760|628388|518377|622788|628313|628312|622750|622751|625145|622479|622480|622789|625140|622346|622347)\d{10}$/g,cardType:"CC"},{reg:/^(518378|518379|518474|518475|518476|524865|525745|525746|547766|558868|622752|622753|622755|524864|622757|622758|622759|622761|622762|622763|622756|622754|622764|622765|558869|625905|625906|625907|625333)\d{10}$/g,cardType:"SCC"},{reg:/^(53591|49102|377677)\d{11}$/g,cardType:"SCC"},{reg:/^(620514|620025|620026|620210|620211|620019|620035|620202|620203|620048|620515|920000)\d{10}$/g,cardType:"PC"},{reg:/^(620040|620531|620513|921000|620038)\d{13}$/g,cardType:"PC"}]},{bankName:"中国建设银行",bankCode:"CCB",patterns:[{reg:/^(621284|436742|589970|620060|621081|621467|621598|621621|621700|622280|622700|623211|623668)\d{13}$/g,cardType:"DC"},{reg:/^(421349|434061|434062|524094|526410|552245|621080|621082|621466|621488|621499|622966|622988|622382|621487|621083|621084|620107)\d{10}$/g,cardType:"DC"},{reg:/^(436742193|622280193)\d{10}$/g,cardType:"DC"},{reg:/^(553242)\d{12}$/g,cardType:"CC"},{reg:/^(625362|625363|628316|628317|356896|356899|356895|436718|436738|436745|436748|489592|531693|532450|532458|544887|552801|557080|558895|559051|622166|622168|622708|625964|625965|625966|628266|628366|622381|622675|622676|622677)\d{10}$/g,cardType:"CC"},{reg:/^(5453242|5491031|5544033)\d{11}$/g,cardType:"CC"},{reg:/^(622725|622728|436728|453242|491031|544033|622707|625955|625956)\d{10}$/g,cardType:"SCC"},{reg:/^(53242|53243)\d{11}$/g,cardType:"SCC"}]},{bankName:"中国交通银行",bankCode:"COMM",patterns:[{reg:/^(622261|622260|622262|621002|621069|621436|621335)\d{13}$/g,cardType:"DC"},{reg:/^(620013)\d{10}$/g,cardType:"DC"},{reg:/^(405512|601428|405512|601428|622258|622259|405512|601428)\d{11}$/g,cardType:"DC"},{reg:/^(49104|53783)\d{11}$/g,cardType:"CC"},{reg:/^(434910|458123|458124|520169|522964|552853|622250|622251|521899|622253|622656|628216|622252|955590|955591|955592|955593|628218|625028|625029)\d{10}$/g,cardType:"CC"},{reg:/^(622254|622255|622256|622257|622284)\d{10}$/g,cardType:"SCC"},{reg:/^(620021|620521)\d{13}$/g,cardType:"PC"}]},{bankName:"招商银行",bankCode:"CMB",patterns:[{reg:/^(402658|410062|468203|512425|524011|622580|622588|622598|622609|95555|621286|621483|621485|621486|621299)\d{10}$/g,cardType:"DC"},{reg:/^(690755)\d{9}$/g,cardType:"DC"},{reg:/^(690755)\d{12}$/g,cardType:"DC"},{reg:/^(356885|356886|356887|356888|356890|439188|439227|479228|479229|521302|356889|545620|545621|545947|545948|552534|552587|622575|622576|622577|622578|622579|545619|622581|622582|545623|628290|439225|518710|518718|628362|439226|628262|625802|625803)\d{10}$/g,cardType:"CC"},{reg:/^(370285|370286|370287|370289)\d{9}$/g,cardType:"CC"},{reg:/^(620520)\d{13}$/g,cardType:"PC"}]},{bankName:"中国民生银行",bankCode:"CMBC",patterns:[{reg:/^(622615|622616|622618|622622|622617|622619|415599|421393|421865|427570|427571|472067|472068|622620)\d{10}$/g,cardType:"DC"},{reg:/^(545392|545393|545431|545447|356859|356857|407405|421869|421870|421871|512466|356856|528948|552288|622600|622601|622602|517636|622621|628258|556610|622603|464580|464581|523952|545217|553161|356858|622623|625912|625913|625911)\d{10}$/g,cardType:"CC"},{reg:/^(377155|377152|377153|377158)\d{9}$/g,cardType:"CC"}]},{bankName:"中国光大银行",bankCode:"CEB",patterns:[{reg:/^(303)\d{13}$/g,cardType:"DC"},{reg:/^(90030)\d{11}$/g,cardType:"DC"},{reg:/^(620535)\d{13}$/g,cardType:"DC"},{reg:/^(620085|622660|622662|622663|622664|622665|622666|622667|622669|622670|622671|622672|622668|622661|622674|622673|620518|621489|621492)\d{10}$/g,cardType:"DC"},{reg:/^(356837|356838|486497|622657|622685|622659|622687|625978|625980|625981|625979|356839|356840|406252|406254|425862|481699|524090|543159|622161|622570|622650|622655|622658|625975|625977|628201|628202|625339|625976)\d{10}$/g,cardType:"CC"}]},{bankName:"中信银行",bankCode:"CITIC",patterns:[{reg:/^(433670|433680|442729|442730|620082|622690|622691|622692|622696|622698|622998|622999|433671|968807|968808|968809|621771|621767|621768|621770|621772|621773|622453|622456)\d{10}$/g,cardType:"DC"},{reg:/^(622459)\d{11}$/g,cardType:"DC"},{reg:/^(376968|376969|376966)\d{9}$/g,cardType:"CC"},{reg:/^(400360|403391|403392|404158|404159|404171|404172|404173|404174|404157|433667|433668|433669|514906|403393|520108|433666|558916|622678|622679|622680|622688|622689|628206|556617|628209|518212|628208|356390|356391|356392|622916|622918|622919)\d{10}$/g,cardType:"CC"}]},{bankName:"华夏银行",bankCode:"HXBANK",patterns:[{reg:/^(622630|622631|622632|622633|999999|621222|623020|623021|623022|623023)\d{10}$/g,cardType:"DC"},{reg:/^(523959|528709|539867|539868|622637|622638|628318|528708|622636|625967|625968|625969)\d{10}$/g,cardType:"CC"}]},{bankName:"深发/平安银行",bankCode:"SPABANK",patterns:[{reg:/^(621626|623058)\d{13}$/g,cardType:"DC"},{reg:/^(602907|622986|622989|622298|627069|627068|627066|627067|412963|415752|415753|622535|622536|622538|622539|998800|412962|622983)\d{10}$/g,cardType:"DC"},{reg:/^(531659|622157|528020|622155|622156|526855|356869|356868|625360|625361|628296|435744|435745|483536|622525|622526|998801|998802)\d{10}$/g,cardType:"CC"},{reg:/^(620010)\d{10}$/g,cardType:"PC"}]},{bankName:"兴业银行",bankCode:"CIB",patterns:[{reg:/^(438589)\d{12}$/g,cardType:"DC"},{reg:/^(90592)\d{11}$/g,cardType:"DC"},{reg:/^(966666|622909|438588|622908)\d{12}$/g,cardType:"DC"},{reg:/^(461982|486493|486494|486861|523036|451289|527414|528057|622901|622902|622922|628212|451290|524070|625084|625085|625086|625087|548738|549633|552398|625082|625083|625960|625961|625962|625963)\d{10}$/g,cardType:"CC"},{reg:/^(620010)\d{10}$/g,cardType:"PC"}]},{bankName:"上海银行",bankCode:"SHBANK",patterns:[{reg:/^(621050|622172|622985|622987|620522|622267|622278|622279|622468|622892|940021)\d{12}$/g,cardType:"DC"},{reg:/^(438600)\d{10}$/g,cardType:"DC"},{reg:/^(356827|356828|356830|402673|402674|486466|519498|520131|524031|548838|622148|622149|622268|356829|622300|628230|622269|625099|625953)\d{10}$/g,cardType:"CC"}]},{bankName:"浦东发展银行",bankCode:"SPDB",patterns:[{reg:/^(622516|622517|622518|622521|622522|622523|984301|984303|621352|621793|621795|621796|621351|621390|621792|621791)\d{10}$/g,cardType:"DC"},{reg:/^(84301|84336|84373|84385|84390|87000|87010|87030|87040|84380|84361|87050|84342)\d{11}$/g,cardType:"DC"},{reg:/^(356851|356852|404738|404739|456418|498451|515672|356850|517650|525998|622177|622277|628222|622500|628221|622176|622276|622228|625957|625958|625993|625831)\d{10}$/g,cardType:"CC"},{reg:/^(622520|622519)\d{10}$/g,cardType:"SCC"},{reg:/^(620530)\d{13}$/g,cardType:"PC"}]},{bankName:"广发银行",bankCode:"GDB",patterns:[{reg:/^(622516|622517|622518|622521|622522|622523|984301|984303|621352|621793|621795|621796|621351|621390|621792|621791)\d{10}$/g,cardType:"DC"},{reg:/^(622568|6858001|6858009|621462)\d{13}$/g,cardType:"DC"},{reg:/^(9111)\d{15}$/g,cardType:"DC"},{reg:/^(406365|406366|428911|436768|436769|436770|487013|491032|491033|491034|491035|491036|491037|491038|436771|518364|520152|520382|541709|541710|548844|552794|493427|622555|622556|622557|622558|622559|622560|528931|558894|625072|625071|628260|628259|625805|625806|625807|625808|625809|625810)\d{10}$/g,cardType:"CC"},{reg:/^(685800|6858000)\d{13}$/g,cardType:"CC"}]},{bankName:"渤海银行",bankCode:"BOHAIB",patterns:[{reg:/^(621268|622684|622884|621453)\d{10}$/g,cardType:"DC"}]},{bankName:"广州银行",bankCode:"GCB",patterns:[{reg:/^(603445|622467|940016|621463)\d{13}$/g,cardType:"DC"}]},{bankName:"金华银行",bankCode:"JHBANK",patterns:[{reg:/^(622449|940051)\d{10}$/g,cardType:"DC"},{reg:/^(622450|628204)\d{10}$/g,cardType:"CC"}]},{bankName:"温州银行",bankCode:"WZCB",patterns:[{reg:/^(621977)\d{10}$/g,cardType:"DC"},{reg:/^(622868|622899|628255)\d{10}$/g,cardType:"CC"}]},{bankName:"徽商银行",bankCode:"HSBANK",patterns:[{reg:/^(622877|622879|621775|623203)\d{13}$/g,cardType:"DC"},{reg:/^(603601|622137|622327|622340|622366)\d{11}$/g,cardType:"DC"},{reg:/^(628251|622651|625828)\d{10}$/g,cardType:"CC"}]},{bankName:"江苏银行",bankCode:"JSBANK",patterns:[{reg:/^(621076|622173|622131|621579|622876)\d{13}$/g,cardType:"DC"},{reg:/^(504923|622422|622447|940076)\d{10}$/g,cardType:"DC"},{reg:/^(628210|622283|625902)\d{10}$/g,cardType:"CC"}]},{bankName:"南京银行",bankCode:"NJCB",patterns:[{reg:/^(621777|622305|621259)\d{10}$/g,cardType:"DC"},{reg:/^(622303|628242|622595|622596)\d{10}$/g,cardType:"CC"}]},{bankName:"宁波银行",bankCode:"NBBANK",patterns:[{reg:/^(621279|622281|622316|940022)\d{10}$/g,cardType:"DC"},{reg:/^(621418)\d{13}$/g,cardType:"DC"},{reg:/^(625903|622778|628207|512431|520194|622282|622318)\d{10}$/g,cardType:"CC"}]},{bankName:"北京银行",bankCode:"BJBANK",patterns:[{reg:/^(623111|421317|422161|602969|422160|621030|621420|621468)\d{10}$/g,cardType:"DC"},{reg:/^(522001|622163|622853|628203|622851|622852)\d{10}$/g,cardType:"CC"}]},{bankName:"北京农村商业银行",bankCode:"BJRCB",patterns:[{reg:/^(620088|621068|622138|621066|621560)\d{13}$/g,cardType:"DC"},{reg:/^(625526|625186|628336)\d{10}$/g,cardType:"CC"}]},{bankName:"汇丰银行",bankCode:"HSBC",patterns:[{reg:/^(622946)\d{10}$/g,cardType:"DC"},{reg:/^(622406|621442)\d{11}$/g,cardType:"DC"},{reg:/^(622407|621443)\d{13}$/g,cardType:"DC"},{reg:/^(622360|622361|625034|625096|625098)\d{10}$/g,cardType:"CC"}]},{bankName:"渣打银行",bankCode:"SCB",patterns:[{reg:/^(622948|621740|622942|622994)\d{10}$/g,cardType:"DC"},{reg:/^(622482|622483|622484)\d{10}$/g,cardType:"CC"}]},{bankName:"花旗银行",bankCode:"CITI",patterns:[{reg:/^(621062|621063)\d{10}$/g,cardType:"DC"},{reg:/^(625076|625077|625074|625075|622371|625091)\d{10}$/g,cardType:"CC"}]},{bankName:"东亚银行",bankCode:"HKBEA",patterns:[{reg:/^(622933|622938|623031|622943|621411)\d{13}$/g,cardType:"DC"},{reg:/^(622372|622471|622472|622265|622266|625972|625973)\d{10}$/g,cardType:"CC"},{reg:/^(622365)\d{11}$/g,cardType:"CC"}]},{bankName:"广东华兴银行",bankCode:"GHB",patterns:[{reg:/^(621469|621625)\d{13}$/g,cardType:"DC"}]},{bankName:"深圳农村商业银行",bankCode:"SRCB",patterns:[{reg:/^(622128|622129|623035)\d{10}$/g,cardType:"DC"}]},{bankName:"广州农村商业银行股份有限公司",bankCode:"GZRCU",patterns:[{reg:/^(909810|940035|621522|622439)\d{12}$/g,cardType:"DC"}]},{bankName:"东莞农村商业银行",bankCode:"DRCBCL",patterns:[{reg:/^(622328|940062|623038)\d{13}$/g,cardType:"DC"},{reg:/^(625288|625888)\d{10}$/g,cardType:"CC"}]},{bankName:"东莞市商业银行",bankCode:"BOD",patterns:[{reg:/^(622333|940050)\d{10}$/g,cardType:"DC"},{reg:/^(621439|623010)\d{13}$/g,cardType:"DC"},{reg:/^(622888)\d{10}$/g,cardType:"CC"}]},{bankName:"广东省农村信用社联合社",bankCode:"GDRCC",patterns:[{reg:/^(622302)\d{10}$/g,cardType:"DC"},{reg:/^(622477|622509|622510|622362|621018|621518)\d{13}$/g,cardType:"DC"}]},{bankName:"大新银行",bankCode:"DSB",patterns:[{reg:/^(622297|621277)\d{10}$/g,cardType:"DC"},{reg:/^(622375|622489)\d{11}$/g,cardType:"DC"},{reg:/^(622293|622295|622296|622373|622451|622294|625940)\d{10}$/g,cardType:"CC"}]},{bankName:"永亨银行",bankCode:"WHB",patterns:[{reg:/^(622871|622958|622963|622957|622861|622932|622862|621298)\d{10}$/g,cardType:"DC"},{reg:/^(622798|625010|622775|622785)\d{10}$/g,cardType:"CC"}]},{bankName:"星展银行香港有限公司",bankCode:"DBS",patterns:[{reg:/^(621016|621015)\d{13}$/g,cardType:"DC"},{reg:/^(622487|622490|622491|622492)\d{10}$/g,cardType:"DC"},{reg:/^(622487|622490|622491|622492|621744|621745|621746|621747)\d{11}$/g,cardType:"DC"}]},{bankName:"恒丰银行",bankCode:"EGBANK",patterns:[{reg:/^(623078)\d{13}$/g,cardType:"DC"},{reg:/^(622384|940034)\d{11}$/g,cardType:"DC"}]},{bankName:"天津市商业银行",bankCode:"TCCB",patterns:[{reg:/^(940015|622331)\d{12}$/g,cardType:"DC"},{reg:/^(6091201)\d{11}$/g,cardType:"DC"},{reg:/^(622426|628205)\d{10}$/g,cardType:"CC"}]},{bankName:"浙商银行",bankCode:"CZBANK",patterns:[{reg:/^(621019|622309|621019)\d{13}$/g,cardType:"DC"},{reg:/^(6223091100|6223092900|6223093310|6223093320|6223093330|6223093370|6223093380|6223096510|6223097910)\d{9}$/g,cardType:"DC"}]},{bankName:"南洋商业银行",bankCode:"NCB",patterns:[{reg:/^(621213|621289|621290|621291|621292|621042|621743)\d{13}$/g,cardType:"DC"},{reg:/^(623041|622351)\d{10}$/g,cardType:"DC"},{reg:/^(625046|625044|625058|622349|622350)\d{10}$/g,cardType:"CC"},{reg:/^(620208|620209|625093|625095)\d{10}$/g,cardType:"PC"}]},{bankName:"厦门银行",bankCode:"XMBANK",patterns:[{reg:/^(622393|940023)\d{10}$/g,cardType:"DC"},{reg:/^(6886592)\d{11}$/g,cardType:"DC"},{reg:/^(623019|621600|)\d{13}$/g,cardType:"DC"}]},{bankName:"福建海峡银行",bankCode:"FJHXBC",patterns:[{reg:/^(622388)\d{10}$/g,cardType:"DC"},{reg:/^(621267|623063)\d{12}$/g,cardType:"DC"},{reg:/^(620043|)\d{12}$/g,cardType:"PC"}]},{bankName:"吉林银行",bankCode:"JLBANK",patterns:[{reg:/^(622865|623131)\d{13}$/g,cardType:"DC"},{reg:/^(940012)\d{10}$/g,cardType:"DC"},{reg:/^(622178|622179|628358)\d{10}$/g,cardType:"CC"}]},{bankName:"汉口银行",bankCode:"HKB",patterns:[{reg:/^(990027)\d{12}$/g,cardType:"DC"},{reg:/^(622325|623105|623029)\d{10}$/g,cardType:"DC"}]},{bankName:"盛京银行",bankCode:"SJBANK",patterns:[{reg:/^(566666)\d{12}$/g,cardType:"DC"},{reg:/^(622455|940039)\d{13}$/g,cardType:"DC"},{reg:/^(623108|623081)\d{10}$/g,cardType:"DC"},{reg:/^(622466|628285)\d{10}$/g,cardType:"CC"}]},{bankName:"大连银行",bankCode:"DLB",patterns:[{reg:/^(603708)\d{11}$/g,cardType:"DC"},{reg:/^(622993|623069|623070|623172|623173)\d{13}$/g,cardType:"DC"},{reg:/^(622383|622385|628299)\d{10}$/g,cardType:"CC"}]},{bankName:"河北银行",bankCode:"BHB",patterns:[{reg:/^(622498|622499|623000|940046)\d{13}$/g,cardType:"DC"},{reg:/^(622921|628321)\d{10}$/g,cardType:"CC"}]},{bankName:"乌鲁木齐市商业银行",bankCode:"URMQCCB",patterns:[{reg:/^(621751|622143|940001|621754)\d{13}$/g,cardType:"DC"},{reg:/^(622476|628278)\d{10}$/g,cardType:"CC"}]},{bankName:"绍兴银行",bankCode:"SXCB",patterns:[{reg:/^(622486)\d{10}$/g,cardType:"DC"},{reg:/^(603602|623026|623086)\d{12}$/g,cardType:"DC"},{reg:/^(628291)\d{10}$/g,cardType:"CC"}]},{bankName:"成都商业银行",bankCode:"CDCB",patterns:[{reg:/^(622152|622154|622996|622997|940027|622153|622135|621482|621532)\d{13}$/g,cardType:"DC"}]},{bankName:"抚顺银行",bankCode:"FSCB",patterns:[{reg:/^(622442)\d{11}$/g,cardType:"DC"},{reg:/^(940053)\d{12}$/g,cardType:"DC"},{reg:/^(622442|623099)\d{13}$/g,cardType:"DC"}]},{bankName:"郑州银行",bankCode:"ZZBANK",patterns:[{reg:/^(622421)\d{13}$/g,cardType:"DC"},{reg:/^(940056)\d{11}$/g,cardType:"DC"},{reg:/^(96828)\d{11}$/g,cardType:"DC"}]},{bankName:"宁夏银行",bankCode:"NXBANK",patterns:[{reg:/^(621529|622429|621417|623089|623200)\d{13}$/g,cardType:"DC"},{reg:/^(628214|625529|622428)\d{10}$/g,cardType:"CC"}]},{bankName:"重庆银行",bankCode:"CQBANK",patterns:[{reg:/^(9896)\d{12}$/g,cardType:"DC"},{reg:/^(622134|940018|623016)\d{10}$/g,cardType:"DC"}]},{bankName:"哈尔滨银行",bankCode:"HRBANK",patterns:[{reg:/^(621577|622425)\d{13}$/g,cardType:"DC"},{reg:/^(940049)\d{12}$/g,cardType:"DC"},{reg:/^(622425)\d{11}$/g,cardType:"DC"}]},{bankName:"兰州银行",bankCode:"LZYH",patterns:[{reg:/^(622139|940040|628263)\d{10}$/g,cardType:"DC"},{reg:/^(621242|621538|621496)\d{13}$/g,cardType:"DC"}]},{bankName:"青岛银行",bankCode:"QDCCB",patterns:[{reg:/^(621252|622146|940061|628239)\d{10}$/g,cardType:"DC"},{reg:/^(621419|623170)\d{13}$/g,cardType:"DC"}]},{bankName:"秦皇岛市商业银行",bankCode:"QHDCCB",patterns:[{reg:/^(62249802|94004602)\d{11}$/g,cardType:"DC"},{reg:/^(621237|623003)\d{13}$/g,cardType:"DC"}]},{bankName:"青海银行",bankCode:"BOQH",patterns:[{reg:/^(622310|940068)\d{11}$/g,cardType:"DC"},{reg:/^(622817|628287|625959)\d{10}$/g,cardType:"CC"},{reg:/^(62536601)\d{8}$/g,cardType:"CC"}]},{bankName:"台州银行",bankCode:"TZCB",patterns:[{reg:/^(622427)\d{10}$/g,cardType:"DC"},{reg:/^(940069)\d{11}$/g,cardType:"DC"},{reg:/^(623039)\d{13}$/g,cardType:"DC"},{reg:/^(622321|628273)\d{10}$/g,cardType:"CC"},{reg:/^(625001)\d{10}$/g,cardType:"SCC"}]},{bankName:"长沙银行",bankCode:"CSCB",patterns:[{reg:/^(694301)\d{12}$/g,cardType:"DC"},{reg:/^(940071|622368|621446)\d{13}$/g,cardType:"DC"},{reg:/^(625901|622898|622900|628281|628282|622806|628283)\d{10}$/g,cardType:"CC"},{reg:/^(620519)\d{13}$/g,cardType:"PC"}]},{bankName:"泉州银行",bankCode:"BOQZ",patterns:[{reg:/^(683970|940074)\d{12}$/g,cardType:"DC"},{reg:/^(622370)\d{13}$/g,cardType:"DC"},{reg:/^(621437)\d{13}$/g,cardType:"DC"},{reg:/^(628319)\d{10}$/g,cardType:"CC"}]},{bankName:"包商银行",bankCode:"BSB",patterns:[{reg:/^(622336|621760)\d{11}$/g,cardType:"DC"},{reg:/^(622165)\d{10}$/g,cardType:"DC"},{reg:/^(622315|625950|628295)\d{10}$/g,cardType:"CC"}]},{bankName:"龙江银行",bankCode:"DAQINGB",patterns:[{reg:/^(621037|621097|621588|622977)\d{13}$/g,cardType:"DC"},{reg:/^(62321601)\d{11}$/g,cardType:"DC"},{reg:/^(622860)\d{10}$/g,cardType:"DC"},{reg:/^(622644|628333)\d{10}$/g,cardType:"CC"}]},{bankName:"上海农商银行",bankCode:"SHRCB",patterns:[{reg:/^(622478|940013|621495)\d{10}$/g,cardType:"DC"},{reg:/^(625500)\d{10}$/g,cardType:"SCC"},{reg:/^(622611|622722|628211|625989)\d{10}$/g,cardType:"CC"}]},{bankName:"浙江泰隆商业银行",bankCode:"ZJQL",patterns:[{reg:/^(622717)\d{10}$/g,cardType:"SCC"},{reg:/^(628275|622565|622287)\d{10}$/g,cardType:"CC"}]},{bankName:"内蒙古银行",bankCode:"H3CB",patterns:[{reg:/^(622147|621633)\d{13}$/g,cardType:"DC"},{reg:/^(628252)\d{10}$/g,cardType:"CC"}]},{bankName:"广西北部湾银行",bankCode:"BGB",patterns:[{reg:/^(623001)\d{10}$/g,cardType:"DC"},{reg:/^(628227)\d{10}$/g,cardType:"CC"}]},{bankName:"桂林银行",bankCode:"GLBANK",patterns:[{reg:/^(621456)\d{11}$/g,cardType:"DC"},{reg:/^(621562)\d{13}$/g,cardType:"DC"},{reg:/^(628219)\d{10}$/g,cardType:"CC"}]},{bankName:"龙江银行",bankCode:"DAQINGB",patterns:[{reg:/^(621037|621097|621588|622977)\d{13}$/g,cardType:"DC"},{reg:/^(62321601)\d{11}$/g,cardType:"DC"},{reg:/^(622475|622860)\d{10}$/g,cardType:"DC"},{reg:/^(625588)\d{10}$/g,cardType:"SCC"},{reg:/^(622270|628368|625090|622644|628333)\d{10}$/g,cardType:"CC"}]},{bankName:"成都农村商业银行",bankCode:"CDRCB",patterns:[{reg:/^(623088)\d{13}$/g,cardType:"DC"},{reg:/^(622829|628301|622808|628308)\d{10}$/g,cardType:"CC"}]},{bankName:"福建省农村信用社联合社",bankCode:"FJNX",patterns:[{reg:/^(622127|622184|621701|621251|621589|623036)\d{13}$/g,cardType:"DC"},{reg:/^(628232|622802|622290)\d{10}$/g,cardType:"CC"}]},{bankName:"天津农村商业银行",bankCode:"TRCB",patterns:[{reg:/^(622531|622329)\d{13}$/g,cardType:"DC"},{reg:/^(622829|628301)\d{10}$/g,cardType:"CC"}]},{bankName:"江苏省农村信用社联合社",bankCode:"JSRCU",patterns:[{reg:/^(621578|623066|622452|622324)\d{13}$/g,cardType:"DC"},{reg:/^(622815|622816|628226)\d{10}$/g,cardType:"CC"}]},{bankName:"湖南农村信用社联合社",bankCode:"SLH",patterns:[{reg:/^(622906|628386|625519|625506)\d{10}$/g,cardType:"CC"}]},{bankName:"江西省农村信用社联合社",bankCode:"JXNCX",patterns:[{reg:/^(621592)\d{10}$/g,cardType:"DC"},{reg:/^(628392)\d{10}$/g,cardType:"CC"}]},{bankName:"商丘市商业银行",bankCode:"SCBBANK",patterns:[{reg:/^(621748)\d{13}$/g,cardType:"DC"},{reg:/^(628271)\d{10}$/g,cardType:"CC"}]},{bankName:"华融湘江银行",bankCode:"HRXJB",patterns:[{reg:/^(621366|621388)\d{13}$/g,cardType:"DC"},{reg:/^(628328)\d{10}$/g,cardType:"CC"}]},{bankName:"衡水市商业银行",bankCode:"HSBK",patterns:[{reg:/^(621239|623068)\d{13}$/g,cardType:"DC"}]},{bankName:"重庆南川石银村镇银行",bankCode:"CQNCSYCZ",patterns:[{reg:/^(621653004)\d{10}$/g,cardType:"DC"}]},{bankName:"湖南省农村信用社联合社",bankCode:"HNRCC",patterns:[{reg:/^(622169|621519|621539|623090)\d{13}$/g,cardType:"DC"}]},{bankName:"邢台银行",bankCode:"XTB",patterns:[{reg:/^(621238|620528)\d{13}$/g,cardType:"DC"}]},{bankName:"临汾市尧都区农村信用合作联社",bankCode:"LPRDNCXYS",patterns:[{reg:/^(628382|625158)\d{10}$/g,cardType:"CC"}]},{bankName:"东营银行",bankCode:"DYCCB",patterns:[{reg:/^(621004)\d{12}$/g,cardType:"DC"},{reg:/^(628217)\d{10}$/g,cardType:"CC"}]},{bankName:"上饶银行",bankCode:"SRBANK",patterns:[{reg:/^(621416)\d{10}$/g,cardType:"DC"},{reg:/^(628217)\d{10}$/g,cardType:"CC"}]},{bankName:"德州银行",bankCode:"DZBANK",patterns:[{reg:/^(622937)\d{13}$/g,cardType:"DC"},{reg:/^(628397)\d{10}$/g,cardType:"CC"}]},{bankName:"承德银行",bankCode:"CDB",patterns:[{reg:/^(628229)\d{10}$/g,cardType:"CC"}]},{bankName:"云南省农村信用社",bankCode:"YNRCC",patterns:[{reg:/^(622469|628307)\d{10}$/g,cardType:"CC"}]},{bankName:"柳州银行",bankCode:"LZCCB",patterns:[{reg:/^(622292|622291|621412)\d{12}$/g,cardType:"DC"},{reg:/^(622880|622881)\d{10}$/g,cardType:"DC"},{reg:/^(62829)\d{10}$/g,cardType:"CC"}]},{bankName:"威海市商业银行",bankCode:"WHSYBANK",patterns:[{reg:/^(623102)\d{10}$/g,cardType:"DC"},{reg:/^(628234)\d{10}$/g,cardType:"CC"}]},{bankName:"湖州银行",bankCode:"HZBANK",patterns:[{reg:/^(628306)\d{10}$/g,cardType:"CC"}]},{bankName:"潍坊银行",bankCode:"BANKWF",patterns:[{reg:/^(622391|940072)\d{10}$/g,cardType:"DC"},{reg:/^(628391)\d{10}$/g,cardType:"CC"}]},{bankName:"赣州银行",bankCode:"GZB",patterns:[{reg:/^(622967|940073)\d{13}$/g,cardType:"DC"},{reg:/^(628233)\d{10}$/g,cardType:"CC"}]},{bankName:"日照银行",bankCode:"RZGWYBANK",patterns:[{reg:/^(628257)\d{10}$/g,cardType:"CC"}]},{bankName:"南昌银行",bankCode:"NCB",patterns:[{reg:/^(621269|622275)\d{10}$/g,cardType:"DC"},{reg:/^(940006)\d{11}$/g,cardType:"DC"},{reg:/^(628305)\d{11}$/g,cardType:"CC"}]},{bankName:"贵阳银行",bankCode:"GYCB",patterns:[{reg:/^(622133|621735)\d{13}$/g,cardType:"DC"},{reg:/^(888)\d{13}$/g,cardType:"DC"},{reg:/^(628213)\d{10}$/g,cardType:"CC"}]},{bankName:"锦州银行",bankCode:"BOJZ",patterns:[{reg:/^(622990|940003)\d{11}$/g,cardType:"DC"},{reg:/^(628261)\d{10}$/g,cardType:"CC"}]},{bankName:"齐商银行",bankCode:"QSBANK",patterns:[{reg:/^(622311|940057)\d{11}$/g,cardType:"DC"},{reg:/^(628311)\d{10}$/g,cardType:"CC"}]},{bankName:"珠海华润银行",bankCode:"RBOZ",patterns:[{reg:/^(622363|940048)\d{13}$/g,cardType:"DC"},{reg:/^(628270)\d{10}$/g,cardType:"CC"}]},{bankName:"葫芦岛市商业银行",bankCode:"HLDCCB",patterns:[{reg:/^(622398|940054)\d{10}$/g,cardType:"DC"}]},{bankName:"宜昌市商业银行",bankCode:"HBC",patterns:[{reg:/^(940055)\d{11}$/g,cardType:"DC"},{reg:/^(622397)\d{11}$/g,cardType:"CC"}]},{bankName:"杭州商业银行",bankCode:"HZCB",patterns:[{reg:/^(603367|622878)\d{12}$/g,cardType:"DC"},{reg:/^(622397)\d{11}$/g,cardType:"CC"}]},{bankName:"苏州市商业银行",bankCode:"JSBANK",patterns:[{reg:/^(603506)\d{13}$/g,cardType:"DC"}]},{bankName:"辽阳银行",bankCode:"LYCB",patterns:[{reg:/^(622399|940043)\d{11}$/g,cardType:"DC"}]},{bankName:"洛阳银行",bankCode:"LYB",patterns:[{reg:/^(622420|940041)\d{11}$/g,cardType:"DC"}]},{bankName:"焦作市商业银行",bankCode:"JZCBANK",patterns:[{reg:/^(622338)\d{13}$/g,cardType:"DC"},{reg:/^(940032)\d{10}$/g,cardType:"DC"}]},{bankName:"镇江市商业银行",bankCode:"ZJCCB",patterns:[{reg:/^(622394|940025)\d{10}$/g,cardType:"DC"}]},{bankName:"法国兴业银行",bankCode:"FGXYBANK",patterns:[{reg:/^(621245)\d{10}$/g,cardType:"DC"}]},{bankName:"大华银行",bankCode:"DYBANK",patterns:[{reg:/^(621328)\d{13}$/g,cardType:"DC"}]},{bankName:"企业银行",bankCode:"DIYEBANK",patterns:[{reg:/^(621651)\d{13}$/g,cardType:"DC"}]},{bankName:"华侨银行",bankCode:"HQBANK",patterns:[{reg:/^(621077)\d{10}$/g,cardType:"DC"}]},{bankName:"恒生银行",bankCode:"HSB",patterns:[{reg:/^(622409|621441)\d{13}$/g,cardType:"DC"},{reg:/^(622410|621440)\d{11}$/g,cardType:"DC"},{reg:/^(622950|622951)\d{10}$/g,cardType:"DC"},{reg:/^(625026|625024|622376|622378|622377|625092)\d{10}$/g,cardType:"CC"}]},{bankName:"临沂商业银行",bankCode:"LSB",patterns:[{reg:/^(622359|940066)\d{13}$/g,cardType:"DC"}]},{bankName:"烟台商业银行",bankCode:"YTCB",patterns:[{reg:/^(622886)\d{10}$/g,cardType:"DC"}]},{bankName:"齐鲁银行",bankCode:"QLB",patterns:[{reg:/^(940008|622379)\d{13}$/g,cardType:"DC"},{reg:/^(628379)\d{10}$/g,cardType:"CC"}]},{bankName:"BC卡公司",bankCode:"BCCC",patterns:[{reg:/^(620011|620027|620031|620039|620103|620106|620120|620123|620125|620220|620278|620812|621006|621011|621012|621020|621023|621025|621027|621031|620132|621039|621078|621220|621003)\d{10}$/g,cardType:"DC"},{reg:/^(625003|625011|625012|625020|625023|625025|625027|625031|621032|625039|625078|625079|625103|625106|625006|625112|625120|625123|625125|625127|625131|625032|625139|625178|625179|625220|625320|625111|625132|625244)\d{10}$/g,cardType:"CC"}]},{bankName:"集友银行",bankCode:"CYB",patterns:[{reg:/^(622355|623042)\d{10}$/g,cardType:"DC"},{reg:/^(621043|621742)\d{13}$/g,cardType:"DC"},{reg:/^(622352|622353|625048|625053|625060)\d{10}$/g,cardType:"CC"},{reg:/^(620206|620207)\d{10}$/g,cardType:"PC"}]},{bankName:"大丰银行",bankCode:"TFB",patterns:[{reg:/^(622547|622548|622546)\d{13}$/g,cardType:"DC"},{reg:/^(625198|625196|625147)\d{10}$/g,cardType:"CC"},{reg:/^(620072)\d{13}$/g,cardType:"PC"},{reg:/^(620204|620205)\d{10}$/g,cardType:"PC"}]},{bankName:"AEON信贷财务亚洲有限公司",bankCode:"AEON",patterns:[{reg:/^(621064|622941|622974)\d{10}$/g,cardType:"DC"},{reg:/^(622493)\d{10}$/g,cardType:"CC"}]},{bankName:"澳门BDA",bankCode:"MABDA",patterns:[{reg:/^(621274|621324)\d{13}$/g,cardType:"DC"}]}],u=[];m.forEach(function(e){var t=e.bankName,a=e.bankCode;u.push({bankName:t,bankCode:a})});function p(e){e=e.replace(/\s/g,"");return-1==="10,18,30,35,37,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,58,60,62,65,68,69,84,87,88,94,95,98,99".indexOf(e.substring(0,2))?(console.log("银行卡号开头6位不符合规范"),!1):!!function(e){for(var t=e.substr(e.length-1,1),a=e.substr(0,e.length-1),r=[],l=a.length-1;l>-1;l--)r.push(a.substr(l,1));for(var n=[],o=[],s=[],i=0;i<r.length;i++)(i+1)%2==1?2*parseInt(r[i])<9?n.push(2*parseInt(r[i])):o.push(2*parseInt(r[i])):s.push(r[i]);for(var c=[],d=[],m=0;m<o.length;m++)c.push(parseInt(o[m])%10),d.push(parseInt(o[m])/10);for(var u,p=0,h=0,f=0,b=0,g=0;g<n.length;g++)p+=parseInt(n[g]);for(var v=0;v<s.length;v++)h+=parseInt(s[v]);for(var C=0;C<c.length;C++)f+=parseInt(c[C]),b+=parseInt(d[C]);return u=parseInt(p)+parseInt(h)+parseInt(f)+parseInt(b),t===10-(parseInt(u)%10==0?10:parseInt(u)%10)?(console.log("验证通过"),!0):(console.log("银行卡号必须符合luhn校验"),!1)}(e)}var h=a("3cXf"),f=a.n(h),b=a("hRKE"),g=a.n(b),v=a("AA3o"),C=a.n(v),k=a("xSur"),_=a.n(k),F=function(){function e(){C()(this,e)}return _()(e,[{key:"setStorage",value:function(e,t){var a=void 0===t?"undefined":g()(t);"object"===a?window.localStorage.setItem(e,f()(t)):["number","boolean","string"].indexOf(a)>=0?window.localStorage.setItem(e,t):this.errorTips("不可存储此数据类型")}},{key:"getStorage",value:function(e){return JSON.parse(window.localStorage.getItem(e))}},{key:"removeStorage",value:function(e){window.localStorage.removeItem(e)}},{key:"errorTips",value:function(e){alert(e)}}]),e}(),y=new F,T={data:function(){return{userInfo:{}}},created:function(){this.userInfo=y.getStorage("userInfo")},methods:{filterAxios:function(e,t,a){"000000"===(e=e.data).errCode?t&&t(e.result):"000001"===e.errCode?this.$router.push("/login?redirect="+this.$route.fullPath):(!a&&this.errorTips(e.errMsg),a&&a(e.errMsg))},successTips:function(e){this.$message({message:e||"恭喜你，操作成功！",type:"success"})},errorTips:function(e){this.$message.error(e||"哪里不对了~")}}},N={data:function(){return{loading:!1,tableData:[],page:{page:1,rows:20,total:1},addShow:!1,addForm:{},updateShow:!1,updateForm:{}}},methods:{handleCurrentChange:function(e){this._renderTableDate(d()({},this.searchForm,{pageNum:e}))},renderTableDate:function(e,t){var a=this;a.filterAxios(e,function(e){var r=[];e.list.forEach(function(e,a){var l=t(e,a);r.push(l)}),a.tableData=r,a.loading=!1,a.page={page:e.pageNum,rows:e.pageSize,total:e.total,totalPages:e.pages}})},addClose:function(){this.addShow=!1,this.$refs.addForm&&this.$refs.addForm.resetFields()},updateClose:function(){this.updateShow=!1,this.$refs.updateForm&&this.$refs.updateForm.resetFields()}}},$={methods:{checkPhone:function(e,t,a){t&&!function(e){return/^0?1[35784][0-9][0-9]{8}$/.test(e)}(t)?a(new Error("请输入正确的手机号")):a()},checkPass:function(e,t,a){""===t?a(new Error("请输入密码")):t.length<6||t.length>16?a(new Error("密码长度在6-16位之间")):(""!==this.form.checkPass&&this.$refs.form.validateField("checkPass"),a())},checkPass2:function(e,t,a){t!==this.form.password?a(new Error("两次输入密码不一致!")):a()},checkQQ:function(e,t,a){console.log("qq value",t),t&&!function(e){return/^[1-9]\d{4,14}$/.test(e)}(t)?a(new Error("请输入正确的QQ号")):a()},checkWechat:function(e,t,a){t&&!function(e){return/^[1-9]\d{4,14}$/.test(e)}(t)?a(new Error("请输入正确的微信号")):a()},checkBankNo:function(e,t,a){t&&!p(t)?a(new Error("请输入正确的银行卡号")):a()},checkChinese:function(e,t,a){t&&!function(e){return/^[\u4E00-\u9FA5]+$/.test(e)}(t)?a(new Error("只能是中文")):a()}}},w=a("aozt"),I=a.n(w),x=new F,S="http://192.168.31.134:8089";function D(e,t,a){return function e(t){for(var a in t){var r=t[a];if("object"===(void 0===r?"undefined":g()(r))){if(Array.isArray(r)&&0===r.length){delete t[a];continue}e(r),A(r)&&delete t[a]}else""!==r&&null!==r&&void 0!==r||delete t[a]}}(a),I()({method:t||"GET",url:S+e,headers:function(){var e={Accept:"application/json;charset=utf-8","Content-Type":"application/json;charset=utf-8"},t=localStorage.getItem("token");t&&(e=d()({},e,{token:t,userId:+x.getStorage("userInfo").userId}));return e}(),data:a||{}})}function A(e){for(var t in e)return!1;return!0}var L={login:function(e){return D("/sys/user/login","POST",e)},logout:function(){return D("/sys/user/logout","POST")},userRightUserList:function(e){return D("/sys/user/pageList/forPermission","POST",e)},getUserRight:function(e){return D("/sys/func/detail/"+e)},updateUserRight:function(e,t){return D("/sys/func/"+e+"/update","POST",t)},userList:function(e){return D("/sys/user/pageList","POST",e)},addUser:function(e){return D("/sys/user/add","POST",e)},updateUser:function(e,t){return D("/sys/user/"+e+"/update","POST",t)},getUserDetail:function(e){return D("/sys/user/"+e)},roleList:function(e){return D("/sys/role/pageList","POST",e)},addRole:function(e){return D("/sys/role/add","POST",e)},getRoleDetail:function(e){return D("/sys/role/"+e)},updateRole:function(e,t){return D("/sys/role/"+e+"/update","POST",t)}},R=new F,P={mixins:[$,T],data:function(){return{searchShow:!1,messageLength:2,userInfo:{},form:{userid:"askdasd",pass:"",checkPass:""},rules:{pass:[{validator:this.checkPass,trigger:"blur"}],checkPass:[{validator:this.checkPass2,trigger:"blur"}]}}},created:function(){this.userInfo=R.getStorage("userInfo"),this.form={userid:this.userInfo.userid}},methods:{logout:function(){var e=this,t=this;L.logout().then(function(a){t.filterAxios(a,function(t){R.removeStorage("userInfo"),R.removeStorage("token"),e.$router.push("/login")})})},searchOpen:function(){this.searchShow=!0},searchClose:function(){this.searchShow=!1,this.$refs.form.resetFields()},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=e.form,r=a.userid,l=a.pass,n=a.checkPass;console.log("submit!",e.form,{userid:r,pass:l,checkPass:n})})}}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"logo"},[e._v("转折支付平台管理系统")]),e._v(" "),a("div",{staticClass:"user-info"},[a("el-button",{attrs:{type:"text"}},[a("i",{staticClass:"fa fa-user"}),e._v(e._s(e.userInfo.userName))]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:e.logout}},[a("i",{staticClass:"fa fa-power-off"}),e._v("退出\n    ")])],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.searchShow,expression:"searchShow"}],attrs:{title:"修改密码",visible:e.searchShow,width:"30%","before-close":e.searchClose,center:""},on:{"update:visible":function(t){e.searchShow=t}}},[a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"当前用户ID：",prop:"userid"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.userid,callback:function(t){e.$set(e.form,"userid",t)},expression:"form.userid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设置新密码：",prop:"pass"}},[a("el-input",{model:{value:e.form.pass,callback:function(t){e.$set(e.form,"pass",t)},expression:"form.pass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认新密码：",prop:"checkPass"}},[a("el-input",{model:{value:e.form.checkPass,callback:function(t){e.$set(e.form,"checkPass",t)},expression:"form.checkPass"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.searchShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitForm}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var B={data:function(){return{route:"dashbard",items:[{icon:"fa fa-area-chart",index:"dashboard",title:"首页概览"},{icon:"fa fa-key",index:"2",title:"权限管理",list:[{icon:"fa fa-dashboard",index:"features_list",title:"功能列表"},{icon:"fa fa-user-secret",index:"user_rights",title:"用户权限"},{icon:"fa fa-user-plus",index:"user_list",title:"用户管理"},{icon:"fa fa-shield",index:"role_list",title:"角色管理"}]},{icon:"fa fa-sitemap",index:"4",title:"交易管理",list:[{icon:"fa fa-handshake-o",index:"trade_list",title:"交易列表"},{icon:"fa fa-gavel",index:"error_handling",title:"差错处理"},{icon:"fa fa-cubes",index:"reports",title:"报表"}]},{icon:"fa fa-server",index:"5",title:"商户管理",list:[{icon:"fa fa-users",index:"store_list",title:"商户列表"}]},{icon:"fa fa-sliders",index:"6",title:"路由管理",list:[{icon:"fa fa-share-alt",index:"channel_manage",title:"渠道列表"},{icon:"fa fa-share-alt-square",index:"store_channel_list",title:"商户渠道列表"},{icon:"fa fa-credit-card",index:"card_bin_list",title:"卡bin管理"},{icon:"fa fa-bank",index:"bank_list",title:"银行列表"}]},{icon:"fa fa-briefcase",index:"7",title:"应用管理",list:[{icon:"fa fa-tags",index:"app_list",title:"应用列表"},{icon:"fa fa-share-square-o",index:"open_app_list",title:"开放平台接口列表"}]}]}},created:function(){console.log("created",this.$route.path),this.route=this.$route.path.replace("/","")}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar"},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.route,"background-color":"#FCFCFC","text-color":"#666666","active-text-color":"#1ABC9C","unique-opened":"",router:""}},[e._l(e.items,function(t,r){return[t.subs?[a("el-submenu",{key:r,attrs:{index:t.index}},[t.icon?a("template",{slot:"title"},[a("i",{class:t.icon}),e._v(e._s(t.title)+"\n          ")]):e._e(),e._v(" "),e._l(t.subs,function(r,l){return[a("el-menu-item-group",{key:l,attrs:{"text-color":"#fff"}},[t.icon?a("template",{slot:"title"},[a("i",{class:r.icon}),e._v(" "),a("span",{staticStyle:{color:"#666666","font-size":"14px"}},[e._v(e._s(r.title))])]):e._e(),e._v(" "),e._l(r.list,function(t,r){return[a("el-menu-item",{key:r,attrs:{index:t.index,router:""}},[a("i",{class:t.icon}),e._v(e._s(t.title)+"\n                ")])]})],2)]})],2)]:t.list?[a("el-submenu",{key:r,attrs:{index:t.index}},[t.icon?a("template",{slot:"title"},[a("i",{class:t.icon}),e._v(e._s(t.title)+"\n          ")]):e._e(),e._v(" "),e._l(t.list,function(t,r){return[a("el-menu-item",{key:r,attrs:{index:t.index,router:""}},[a("i",{class:t.icon}),e._v(e._s(t.title)+"\n            ")])]})],2)]:[a("el-menu-item",{key:r,attrs:{index:t.index}},[a("i",{class:t.icon}),e._v(e._s(t.title)+"\n        ")])]]})],2)],1)},staticRenderFns:[]};var U={components:{vHead:a("vSla")(P,q,!1,function(e){a("kgKs")},"data-v-b6921164",null).exports,vSidebar:a("vSla")(B,E,!1,function(e){a("tEXN")},"data-v-5b9158b2",null).exports}},O={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrapper"},[t("v-head"),this._v(" "),t("v-sidebar"),this._v(" "),t("div",{staticClass:"content"},[t("transition",{attrs:{name:"move",mode:"out-in"}},[t("router-view")],1)],1)],1)},staticRenderFns:[]},z=a("vSla")(U,O,!1,null,null,null).exports,M=new F,V={mixins:[T],data:function(){var e=this;return{errMsg:"",ruleForm:{userName:"",password:""},rules:{password:[{validator:function(t,a,r){e.errMsg="",""===a?r(new Error("请输入密码")):((a.length<6||a.length>16)&&r(new Error("密码长度在6-16位之间")),r())},trigger:"blur"}]},checked:!1}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;L.login(t.ruleForm).then(function(e){t.filterAxios(e,function(e){M.setStorage("userInfo",d()({},e,{userName:t.ruleForm.userName})),M.setStorage("token",e.token);var a=t.$route.query.redirect?decodeURIComponent(t.$route.fullPath.split("?redirect=")[1]):null;t.$router.push(a||"/dashboard")},function(e){t.errMsg=e})})})}}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-wrap"},[a("div",{staticClass:"login"},[e._m(0),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"0px"}},[a("el-form-item",{attrs:{prop:"userName"}},[a("el-input",{attrs:{"prefix-icon":"fa fa-user",placeholder:"请输入用户名",clearable:""},model:{value:e.ruleForm.userName,callback:function(t){e.$set(e.ruleForm,"userName",t)},expression:"ruleForm.userName"}}),e._v(" "),a("div",{staticClass:"el-form-item__error"},[e._v(e._s(e.errMsg))])],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{"prefix-icon":"fa fa-lock",type:"password",placeholder:"请输入密码",clearable:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.submitForm("ruleForm")}},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),a("div",{staticClass:"login-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)],1),e._v(" "),a("div",{staticClass:"footer"},[e._v("Copyright © 2017.All Right Reserved")])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",[t("img",{attrs:{src:a("vVZ4"),alt:"转折科技"}}),t("br"),this._v("\n      转折支付平台管理系统\n    ")])}]};var Q=a("vSla")(V,K,!1,function(e){a("agZZ")},"data-v-69ec6948",null).exports,J={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"dashboard"},[this._v("\n  首页概览\n")])},staticRenderFns:[]};var G=a("vSla")({},J,!1,function(e){a("64e6")},null,null).exports,H={getList:function(e){return D("/sys/function/pageList","POST",e)},add:function(e){return D("/sys/function/add","POST",e)},update:function(e,t){return D("/sys/function/"+e+"/update","POST",t)}},Z={mixins:[T,N],data:function(){return{levelList:[1,2,3,4],searchForm:{funcName:"",status:""},searchRules:{funcName:[{required:!1,message:"请输入功能名称",trigger:"blur"}],status:[{required:!1,message:"请选择状态",trigger:"change"}]}}},created:function(){this._renderTableDate()},methods:{_renderTableDate:function(e){var t=this;t.loading=!0,H.getList(e).then(function(e){t.renderTableDate(e,function(e){return{funcId:e.funcId,funcName:e.funcName,funcLevel:e.funcLevel,funcPath:e.funcPath,parentFuncId:e.parentFuncId,parentName:e.parentName,status:"VALID"===e.status?"生效":"失效",updateTime:e.modifiedTime,operate:{add:e.funcLevel<4,update:!0}}})})},searchSubmit:function(e){var t=this;this.$refs[e].validate(function(a){if(console.log("valid",a),!a)return console.log("error submit!!"),!1;var r=t.$refs[e].model.funcName,l=t.$refs[e].model.status;t._renderTableDate({funcName:r,status:l})})},handleAdd:function(e){this.addShow=!0;var t=e.funcLevel;this.levelList=this.levelList.filter(function(e){return e>t}),this.addForm={parentFuncId:e.funcId,parentName:e.funcName}},addSubmit:function(){var e=this;H.add(this.addForm).then(function(t){e.formatResult(t,e.updateClose,"添加成功"),e.addClose()})},handleUpdate:function(e){this.updateShow=!0,this.updateForm={funcId:e.funcId,funcName:e.funcName,funcPath:e.funcPath,status:"生效"===e.status?"VALID":"INVALID"}},updateSubmit:function(){var e=this,t=e.updateForm.funcId;delete e.updateForm.funcId,H.update(t,e.updateForm).then(function(t){e.formatResult(t,e.updateClose,"修改成功"),e.updateClose()})},formatResult:function(e,t,a){var r=this;"function"==typeof t&&t(),r.filterAxios(e,function(e){r.successTips(a),r._renderTableDate()})}}},X={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"operating"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,rules:e.searchRules,size:"mini"}},[a("el-form-item",{attrs:{label:"功能",prop:"funcName"}},[a("el-input",{model:{value:e.searchForm.funcName,callback:function(t){e.$set(e.searchForm,"funcName",t)},expression:"searchForm.funcName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[a("el-option",{attrs:{label:"正常",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"失效",value:"INVALID"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"funcId",label:"序号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"funcName",label:"功能",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"funcLevel",label:"级别"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"funcPath",label:"URL",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"parentName",label:"上级"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.operate.add?a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){e.handleAdd(t.row)}}},[e._v("添加")]):e._e(),e._v(" "),t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleUpdate(t.row)}}},[e._v("修改")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addShow,expression:"addShow"}],attrs:{visible:e.addShow,title:"添加",width:"30%","before-close":e.addClose,center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",[a("el-form",{ref:"addForm",attrs:{model:e.addForm,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"上级功能"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.addForm.parentName,callback:function(t){e.$set(e.addForm,"parentName",t)},expression:"addForm.parentName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"功能"}},[a("el-input",{model:{value:e.addForm.funcName,callback:function(t){e.$set(e.addForm,"funcName",t)},expression:"addForm.funcName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"URL"}},[a("el-input",{model:{value:e.addForm.funcPath,callback:function(t){e.$set(e.addForm,"funcPath",t)},expression:"addForm.funcPath"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"级别"}},[a("el-select",{attrs:{placeholder:"请选择级别"},model:{value:e.addForm.funcLevel,callback:function(t){e.$set(e.addForm,"funcLevel",t)},expression:"addForm.funcLevel"}},e._l(e.levelList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-option",{attrs:{label:"生效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"失效",value:"INVALID"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.addSubmit()}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.updateShow,expression:"updateShow"}],attrs:{visible:e.updateShow,title:"修改",width:"30%","before-close":e.updateClose,center:""},on:{"update:visible":function(t){e.updateShow=t}}},[a("div",[a("el-form",{ref:"updateForm",attrs:{model:e.updateForm,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"功能"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.updateForm.funcName,callback:function(t){e.$set(e.updateForm,"funcName",t)},expression:"updateForm.funcName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"URL"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.updateForm.funcPath,callback:function(t){e.$set(e.updateForm,"funcPath",t)},expression:"updateForm.funcPath"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.updateForm.status,callback:function(t){e.$set(e.updateForm,"status",t)},expression:"updateForm.status"}},[a("el-option",{attrs:{label:"生效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"失效",value:"INVALID"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.updateShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.updateSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("功能列表")])])}]},Y=a("vSla")(Z,X,!1,null,null,null).exports,W={mixins:[T,N],data:function(){return{searchForm:{userName:""},searchRules:{userName:[{required:!1,message:"请输入用户名",trigger:"blur"}]},rightsList:[],updateInfo:{}}},created:function(){this._renderTableDate()},methods:{searchSubmit:function(e){var t=this,a=this;a.$refs[e].validate(function(r){if(r){var l=t.$refs[e].model.userName;a._renderTableDate({userName:l})}})},_renderTableDate:function(e){var t=this;t.loading=!0,L.userRightUserList(e).then(function(e){t.renderTableDate(e,function(e){return{userId:e.userId,userName:e.userName,linkmanPhone:e.linkmanPhone,status:"VALID"===e.status?"生效":"失效",updateTime:e.modifiedTime,operate:{update:!0}}})})},handleUpdate:function(e){var t=this;this.updateInfo={userId:e.userId},L.getUserRight(this.updateInfo.userId).then(function(e){t.filterAxios(e,function(e){var a=e;t._renderRightList(a)})}),this.updateShow=!0},updateClose:function(){this.updateShow=!1,this.rightsList=[]},updateSubmit:function(){var e=this;this.formatUpdateResult(),L.updateUserRight(this.updateInfo.userId,{funcIds:this.updateInfo.funcIds}).then(function(t){e.updateClose(),e.filterAxios(t,function(t){e.successTips("修改成功")})})},formatUpdateResult:function(){var e=[];this.rightsList.forEach(function(t){t.checked&&(e.push(t.funcId),t.list&&t.list.forEach(function(t){t.checked&&(e.push(t.funcId),t.list&&t.list.forEach(function(t){t.checked&&(e.push(t.funcId),t.list&&t.list.forEach(function(t){t.checked&&e.push(t.funcId)}))}))}))}),this.updateInfo.funcIds=f()(e)},_renderRightList:function(e){var t=[],a=this;e.forEach(function(e,r){var l=a.setItem(e,r+"");if(e.children&&e.children.length>0){var n=[];e.children.forEach(function(e,t){var l=a.setItem(e,r+"-"+t);if(e.children&&e.children.length>0){var o=[];e.children.forEach(function(e,l){var n=a.setItem(e,r+"-"+t+"-"+l);if(e.children&&e.children.length>0){var s=[];n.children.forEach(function(e,n){var o=a.setItem(e,r+"-"+t+"-"+l+"-"+n);s.push(o)}),n.children=s}o.push(n)}),l.list=o}n.push(l)}),l.list=n}t.push(l)}),a.rightsList=t},setItem:function(e,t){return{level:t,funcName:e.funcName,funcId:e.funcId,checked:e.flag,channelId:e.funcLevel,parendId:e.funcLevel-1,show:!1}}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"operating"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,rules:e.searchRules,size:"mini"}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{model:{value:e.searchForm.userName,callback:function(t){e.$set(e.searchForm,"userName",t)},expression:"searchForm.userName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"userId",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"userName",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"linkmanPhone",label:"联系方式"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleUpdate(t.row)}}},[e._v("修改")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.updateShow,expression:"updateShow"}],attrs:{visible:e.updateShow,title:"修改权限",width:"30%","before-close":e.updateClose,center:""},on:{"update:visible":function(t){e.updateShow=t}}},[a("div",{staticClass:"feature-checked-wrap"},e._l(e.rightsList,function(t,r){return a("div",{key:r,staticClass:"operate-list"},[t.list?[a("div",{staticClass:"operate-title"},[a("i",{class:t.show?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.show=!t.show}}}),e._v(" "),a("el-checkbox",{model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"lv1.checked"}},[e._v(e._s(t.funcName))])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"lv1.show"}],staticClass:"operate-body"},e._l(t.list,function(r,l){return a("div",{key:l,staticClass:"operate-list"},[r.list?[a("div",{staticClass:"operate-title"},[a("i",{class:r.show?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){r.show=!r.show}}}),e._v(" "),a("el-checkbox",{attrs:{disabled:!t.checked},model:{value:r.checked,callback:function(t){e.$set(r,"checked",t)},expression:"lv2.checked"}},[e._v(e._s(r.funcName))])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:r.show,expression:"lv2.show"}],staticClass:"operate-body"},e._l(r.list,function(l,n){return a("div",{key:n,staticClass:"operate-list"},[l.list?[a("div",{staticClass:"operate-title"},[a("i",{class:l.show?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){l.show=!l.show}}}),e._v(" "),a("el-checkbox",{attrs:{checked:!r.checked||t.checked},model:{value:l.checked,callback:function(t){e.$set(l,"checked",t)},expression:"lv3.checked"}},[e._v(e._s(l.funcName))])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:l.show,expression:"lv3.show"}],staticClass:"operate-body"},e._l(l.list,function(n,o){return a("el-checkbox",{key:o,attrs:{disabled:!l.checked||!r.checked||!t.checked},model:{value:n.checked,callback:function(t){e.$set(n,"checked",t)},expression:"lv4.checked"}},[e._v(e._s(n.funcName))])}))]:[a("el-checkbox",{attrs:{disabled:!r.checked||!t.checked},model:{value:l.checked,callback:function(t){e.$set(l,"checked",t)},expression:"lv3.checked"}},[e._v(e._s(l.funcName))])]],2)}))]:[a("el-checkbox",{attrs:{disabled:!t.checked},model:{value:r.checked,callback:function(t){e.$set(r,"checked",t)},expression:"lv2.checked"}},[e._v(e._s(r.funcName))])]],2)}))]:[a("el-checkbox",{on:{change:function(a){e.handleCheckedOperateChange(t)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"lv1.checked"}},[e._v(e._s(t.funcName))])]],2)})),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.updateShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.updateSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("用户权限")])])}]},ee=a("vSla")(W,j,!1,null,null,null).exports,te={mixins:[T,N,$],data:function(){return{searchForm:{userName:"",linkmanName:"",linkmanPhone:"",linkmanEmail:""},searchRules:{userName:[{required:!1,message:"请输入用户名",trigger:"blur"}],nickName:[{required:!1,message:"请输入昵称",trigger:"blur"}],linkmanName:[{required:!1,message:"请输入姓名",trigger:"blur"}],linkmanPhone:[{required:!1,message:"请输入联系电话",trigger:"blur"}],linkmanEmail:[{required:!1,message:"请输入邮箱",trigger:"blur"}]},rules:{roleId:[{required:!0,message:"请选择角色",trigger:"blur"}],linkmanName:[{required:!0,message:"请输入姓名",trigger:"blur"}],userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],nickName:[{required:!0,message:"请输入昵称",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:this.checkPass,trigger:"blur"}],checkPass:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:this.checkPass2,trigger:"blur"}],linkmanPhone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:this.checkPhone,trigger:"blur"}],linkmanEmail:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确格式的邮箱邮箱",trigger:"blur"}],qq:[{required:!0,message:"请输入QQ号",trigger:"blur"},{validator:this.checkQQ,trigger:"blur"}],wechat:[{required:!0,message:"请输入微信号",trigger:"blur"},{validator:this.checkWechat,trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},form:{formTitle:"添加"},roleList:[]}},created:function(){this._renderTableDate(),this.getRoleList()},methods:{_renderTableDate:function(e){var t=this;t.loading=!0,L.userList(e).then(function(e){t.renderTableDate(e,function(e){return{userId:e.userId,userName:e.userName,nickName:e.nickName,merchantId:e.merchantId,merchantName:e.merchantName,linkmanName:e.linkmanName,linkmanPhone:e.linkmanPhone,linkmanEmail:e.linkmanEmail,roleId:e.roleId,wechat:e.wechat,qq:e.qq,status:"VALID"===e.status?"生效":"失效",createTime:e.createTime,operate:{add:!0,update:!0}}})})},searchSubmit:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;t._renderTableDate(t.$refs[e].model)})},getRoleList:function(){var e=this,t=this;L.roleList().then(function(a){t.filterAxios(a,function(t){console.log("roleList:",t),e.roleList=t.list})})},getUserDetail:function(e){var t=this;L.getUserDetail(e).then(function(e){t.filterAxios(e,function(e){t.form=d()({},t.form,e),console.log("this.form",t.form)})})},handleForm:function(e){e instanceof Object?(this.getUserDetail(e.userId),this.form=d()({},this.form,{formTitle:"修改"}),console.log("update",this.form)):this.form={formTitle:"添加",merchantId:this.userInfo.merchantId,merchantName:this.userInfo.merchantName},this.addShow=!0},formSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;delete e.form.checkPass,"添加"===e.form.formTitle?(delete e.form.formTitle,L.addUser(e.form).then(function(t){e.formatResult(t,"添加用户成功")})):(delete e.form.merchantName,L.updateUser(e.form.userId,e.form).then(function(t){e.formatResult(t,"修改用户信息成功")}))})},formClose:function(){this.addShow=!1,this.form={},this.$refs.form&&this.$refs.form.resetFields()},formatResult:function(e,t){var a=this;a.formClose(),a.filterAxios(e,function(e){a.successTips(t),a._renderTableDate()})}}},ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"operating"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,rules:e.searchRules,size:"mini"}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{model:{value:e.searchForm.userName,callback:function(t){e.$set(e.searchForm,"userName",t)},expression:"searchForm.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"linkmanName"}},[a("el-input",{model:{value:e.searchForm.linkmanName,callback:function(t){e.$set(e.searchForm,"linkmanName",t)},expression:"searchForm.linkmanName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系方式",prop:"linkmanPhone"}},[a("el-input",{model:{value:e.searchForm.linkmanPhone,callback:function(t){e.$set(e.searchForm,"linkmanPhone",t)},expression:"searchForm.linkmanPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"linkmanEmail"}},[a("el-input",{model:{value:e.searchForm.linkmanEmail,callback:function(t){e.$set(e.searchForm,"linkmanEmail",t)},expression:"searchForm.linkmanEmail"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"table-btn"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.handleForm("add")}}},[e._v("添加用户")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"userId",label:"序号",width:"100",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"userName",label:"用户名",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"linkmanName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"linkmanPhone",label:"联系方式",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantName",label:"所属机构"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"linkmanEmail",label:"邮箱",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",width:"100",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleForm(t.row)}}},[e._v("修改")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addShow,expression:"addShow"}],attrs:{visible:e.addShow,title:e.form.formTitle,width:"30%","before-close":e.addClose,center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"商户"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.merchantName,callback:function(t){e.$set(e.form,"merchantName",t)},expression:"form.merchantName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色",prop:"roleId"}},[a("el-select",{attrs:{placeholder:"请选择角色"},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleList,function(e,t){return a("el-option",{key:t,attrs:{label:e.roleName,value:e.roleId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"linkmanName"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.linkmanName,callback:function(t){e.$set(e.form,"linkmanName",t)},expression:"form.linkmanName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"昵称",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入登录密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入确认密码"},model:{value:e.form.checkPass,callback:function(t){e.$set(e.form,"checkPass",t)},expression:"form.checkPass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"linkmanPhone"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.form.linkmanPhone,callback:function(t){e.$set(e.form,"linkmanPhone",t)},expression:"form.linkmanPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"linkmanEmail"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.form.linkmanEmail,callback:function(t){e.$set(e.form,"linkmanEmail",t)},expression:"form.linkmanEmail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"QQ",prop:"qq"}},[a("el-input",{attrs:{placeholder:"请输入QQ"},model:{value:e.form.qq,callback:function(t){e.$set(e.form,"qq",t)},expression:"form.qq"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微信号",prop:"wechat"}},[a("el-input",{attrs:{placeholder:"请输入微信号"},model:{value:e.form.wechat,callback:function(t){e.$set(e.form,"wechat",t)},expression:"form.wechat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"生效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"INVALID"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.formSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("用户列表")])])}]},re=a("vSla")(te,ae,!1,null,null,null).exports,le={mixins:[T,N],data:function(){return{form:{},rules:{roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"}],remark:[{required:!1,message:"请输入备注",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]}}},created:function(){this._renderTableDate()},methods:{_renderTableDate:function(e){var t=this;t.loading=!0,L.roleList(e).then(function(e){t.renderTableDate(e,function(e){return{roleId:e.roleId,roleName:e.roleName,remark:e.remark,status:"VALID"===e.status?"生效":"失效",createTime:e.createTime,updateTime:e.modifiedTime,operate:{add:!0,update:!0}}})})},getRoleDetail:function(e){var t=this;L.getRoleDetail(e).then(function(e){t.filterAxios(e,function(e){t.form=d()({},t.form,e)})})},handleForm:function(e){this.addShow=!0,"object"===(void 0===e?"undefined":g()(e))?(this.getRoleDetail(e.roleId),this.form=d()({},this.form,{title:"修改"})):this.form={title:"添加"}},formSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;"添加"===e.form.title?(delete e.form.title,L.addRole(e.form).then(function(t){e.formatResult(t,"添加成功")})):(delete e.form.title,L.updateRole(e.form.roleId,e.form).then(function(t){e.formatResult(t,"修改成功")}))})},formClose:function(){this.addShow=!1,this.form={},this.$refs.form&&this.$refs.form.resetFields()},formatResult:function(e,t){var a=this;a.formClose(),a.filterAxios(e,function(e){a.successTips(t),a._renderTableDate()})}}},ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"table-btn"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.handleForm("add")}}},[e._v("添加角色")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"roleId",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"roleName",label:"角色名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleForm(t.row)}}},[e._v("修改")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addShow,expression:"addShow"}],attrs:{small:!0,visible:e.addShow,title:e.form.title,width:"30%","before-close":e.addClose,center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.roleName,callback:function(t){e.$set(e.form,"roleName",t)},expression:"form.roleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"有效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"INVALID"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.formSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("角色列表")])])}]},oe=a("vSla")(le,ne,!1,null,null,null).exports,se={data:function(){return{addShow:!1,addForm:{},updateShow:!1,updateForm:{},tableData:[{id:"1",code:"code",remark:"remark",status:1,createTime:"2018-04-30",updateTime:"2018-04-30",operate:{update:!0}},{id:"2",code:"code",remark:"remark",status:1,createTime:"2018-04-30",updateTime:"2018-04-30",operate:{update:!0}},{id:"3",code:"code",remark:"remark",status:1,createTime:"2018-04-30",updateTime:"2018-04-30",operate:{update:!0}}]}},methods:{addClose:function(){this.addShow=!1,this.$refs.addForm.resetFields()},addSubmit:function(){console.log("addSubmit!")},updateClose:function(){this.updateShow=!1,this.$refs.updateForm.resetFields()},updateSubmit:function(){console.log("updateSubmit!")},handleAdd:function(e){var t=e.id;this.addShow=!0,this.addForm={},console.log("handleAdd!",e,t)},handleUpdate:function(e){var t=e.id;this.updateShow=!0,this.updateForm={code:e.code,remark:e.remark,status:e.status},console.log("handleUpdate!",e,t)}}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"table-btn"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.addShow=!0}}},[e._v("添加码")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"code",label:"码值"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleUpdate(t.row)}}},[e._v("修改")]):e._e()]}}])})],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addShow,expression:"addShow"}],attrs:{visible:e.addShow,title:"添加码",width:"30%","before-close":e.addClose,center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",[a("el-form",{ref:"addForm",attrs:{model:e.addForm,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"码值"}},[a("el-input",{attrs:{placeholder:"请输入码值"},model:{value:e.addForm.code,callback:function(t){e.$set(e.addForm,"code",t)},expression:"addForm.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-option",{attrs:{label:"有效",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"0"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addSubmit}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.updateShow,expression:"updateShow"}],attrs:{visible:e.updateShow,title:"修改",width:"30%","before-close":e.updateClose,center:""},on:{"update:visible":function(t){e.updateShow=t}}},[a("div",[a("el-form",{ref:"updateForm",attrs:{model:e.updateForm,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"码值"}},[a("el-input",{attrs:{placeholder:"请输入码值"},model:{value:e.updateForm.code,callback:function(t){e.$set(e.updateForm,"code",t)},expression:"updateForm.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.updateForm.remark,callback:function(t){e.$set(e.updateForm,"remark",t)},expression:"updateForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.updateForm.status,callback:function(t){e.$set(e.updateForm,"status",t)},expression:"updateForm.status"}},[a("el-option",{attrs:{label:"有效",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"0"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.updateShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.updateSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("码值管理")])])}]},ce=a("vSla")(se,ie,!1,null,null,null).exports,de={data:function(){return{addShow:!1,addForm:{},updateShow:!1,updateForm:{},tableData:[{id:"1",errorCode:"errorCode",remark:"remark",status:1,createTime:"2018-04-30",updateTime:"2018-04-30",operate:{update:!0}},{id:"2",errorCode:"errorCode",remark:"remark",status:1,createTime:"2018-04-30",updateTime:"2018-04-30",operate:{update:!0}},{id:"3",errorCode:"errorCode",remark:"remark",status:1,createTime:"2018-04-30",updateTime:"2018-04-30",operate:{update:!0}}]}},methods:{addClose:function(){this.addShow=!1,this.$refs.addForm.resetFields()},addSubmit:function(){console.log("addSubmit!")},updateClose:function(){this.updateShow=!1,this.$refs.updateForm.resetFields()},updateSubmit:function(){console.log("updateSubmit!")},handleAdd:function(e){var t=e.id;this.addShow=!0,this.addForm={},console.log("handleAdd!",e,t)},handleUpdate:function(e){var t=e.id;this.updateShow=!0,this.updateForm={errorCode:e.errorCode,remark:e.remark,status:e.status},console.log("handleUpdate!",e,t)}}},me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"table-btn"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.addShow=!0}}},[e._v("添加错误码")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"errorCode",label:"错误码"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleUpdate(t.row)}}},[e._v("修改")]):e._e()]}}])})],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addShow,expression:"addShow"}],attrs:{visible:e.addShow,title:"添加错误码",width:"30%","before-close":e.addClose,center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",[a("el-form",{ref:"addForm",attrs:{model:e.addForm,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"错误码"}},[a("el-input",{attrs:{placeholder:"请输入错误码"},model:{value:e.addForm.errorCode,callback:function(t){e.$set(e.addForm,"errorCode",t)},expression:"addForm.errorCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.addForm.remark,callback:function(t){e.$set(e.addForm,"remark",t)},expression:"addForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[a("el-option",{attrs:{label:"有效",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"0"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addSubmit}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.updateShow,expression:"updateShow"}],attrs:{visible:e.updateShow,title:"修改",width:"30%","before-close":e.updateClose,center:""},on:{"update:visible":function(t){e.updateShow=t}}},[a("div",[a("el-form",{ref:"updateForm",attrs:{model:e.updateForm,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"错误码"}},[a("el-input",{attrs:{placeholder:"请输入错误码"},model:{value:e.updateForm.errorCode,callback:function(t){e.$set(e.updateForm,"errorCode",t)},expression:"updateForm.errorCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.updateForm.remark,callback:function(t){e.$set(e.updateForm,"remark",t)},expression:"updateForm.remark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.updateForm.status,callback:function(t){e.$set(e.updateForm,"status",t)},expression:"updateForm.status"}},[a("el-option",{attrs:{label:"有效",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"0"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.updateShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.updateSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("错误码管理")])])}]},ue=a("vSla")(de,me,!1,null,null,null).exports,pe={getList:function(e){return D("/business/trade/pageList","POST",e)},getDetail:function(e){return D("/business/trade/"+e+"/detail","POST")},getPayCheckUpErrorList:function(e){return D("/business/trade/payCheckUpError/pageList","POST",e)},updatePayCheckUpErrorList:function(e){return D("/business/trade/payCheckUpError/"+e+"/update","POST")},getReportDay:function(e){return D("/business/trade/tradeOrderStatisticsDay/pageList","POST",e)},getReportMonth:function(e){return D("/business/trade/tradeOrderStatisticsMonth/pageList","POST",e)},getReportMerchantDay:function(e){return D("/business/trade/tradeMerchantStatisticsDay/pageList","POST",e)},getReportMerchantMonth:function(e){return D("/business/trade/tradeMerchantStatisticsMonth/pageList","POST",e)},getReportChannelDay:function(e){return D("/business/trade/tradeChannelStatisticsDay/pageList","POST",e)},getReportChannelMonth:function(e){return D("/business/trade/tradeChannelStatisticsMonth/pageList","POST",e)},getReportProfitDay:function(e){return D("/business/trade/tradeProfitStatisticsDay/pageList","POST",e)},getReportProfitMonth:function(e){return D("/business/trade/tradeProfitStatisticsMonth/pageList","POST",e)}},he={getDictionaryList:function(e){return D("/sys/dic/"+e+"/list")}},fe={mixins:[T,N],data:function(){return{detailShow:!1,detailForm:{},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},searchForm:{},tableData:[],productCodeList:[],tradeStatusList:[],tradeTypeList:[]}},created:function(){this._renderTableDate(),this.getProductCodeList(),this.getTradeStatusList(),this.getTradeTypeList()},methods:{_renderTableDate:function(e){var t=this;this.loading=!0,pe.getList(e).then(function(e){t.renderTableDate(e,function(e,t){return{no:t+1,merchantId:e.merchantId,merchantName:e.merchantName,orderId:e.orderId,orderNo:e.orderNo,tradeTypeName:e.tradeTypeName,productName:e.productName,channelName:e.channelName,payAmount:e.payAmount,fee:e.fee,statusName:e.statusName,payerName:e.payerName,payeeName:e.payeeName,payerAccount:e.payerAccount,createTime:e.createTime,completeTime:e.completeTime}})})},getProductCodeList:function(){var e=this;he.getDictionaryList("PRODUCT_CODE").then(function(t){e.filterAxios(t,function(t){e.productCodeList=t})})},getTradeStatusList:function(){var e=this;he.getDictionaryList("TRADE_STATUS").then(function(t){e.filterAxios(t,function(t){e.tradeStatusList=t})})},getTradeTypeList:function(){var e=this;he.getDictionaryList("TRADE_TYPE").then(function(t){e.filterAxios(t,function(t){e.tradeTypeList=t})})},searchSubmit:function(){this.searchForm.tradeTime&&2===this.searchForm.tradeTime.length&&(this.searchForm.createTimeStart=this.searchForm.tradeTime[0]+" 00:00:00",this.searchForm.createTimeEnd=this.searchForm.tradeTime[1]+" 00:00:00"),this._renderTableDate(this.searchForm)},detailClose:function(){this.detailShow=!1,this.$refs.detailForm.resetFields()},handleDetail:function(e){var t=this;pe.getDetail(e.orderId).then(function(e){t.filterAxios(e,function(e){t.detailForm=e,console.log(e)})}),this.detailShow=!0}}},be={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"detail-input"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,size:"mini","label-width":"84px"}},[a("div",{staticClass:"row"},[a("el-form-item",{attrs:{label:"商户号"}},[a("el-input",{attrs:{placeholder:"请输入商户号"},model:{value:e.searchForm.merchantId,callback:function(t){e.$set(e.searchForm,"merchantId",t)},expression:"searchForm.merchantId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名称"}},[a("el-input",{attrs:{placeholder:"请输入商户名称"},model:{value:e.searchForm.merchantName,callback:function(t){e.$set(e.searchForm,"merchantName",t)},expression:"searchForm.merchantName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.searchForm.orderId,callback:function(t){e.$set(e.searchForm,"orderId",t)},expression:"searchForm.orderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户订单号"}},[a("el-input",{attrs:{placeholder:"请输入商户订单"},model:{value:e.searchForm.orderNo,callback:function(t){e.$set(e.searchForm,"orderNo",t)},expression:"searchForm.orderNo"}})],1)],1),e._v(" "),a("div",{staticClass:"row"},[a("el-form-item",{attrs:{label:"交易时间"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},model:{value:e.searchForm.tradeTime,callback:function(t){e.$set(e.searchForm,"tradeTime",t)},expression:"searchForm.tradeTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易状态"}},[a("el-select",{attrs:{placeholder:"请选择交易状态"},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[a("el-option",{attrs:{value:""}},[e._v("全部")]),e._v(" "),e._l(e.tradeStatusList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dicName,value:e.dicCode}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"交易类型"}},[a("el-select",{attrs:{placeholder:"请选择交易类型"},model:{value:e.searchForm.tradeType,callback:function(t){e.$set(e.searchForm,"tradeType",t)},expression:"searchForm.tradeType"}},[a("el-option",{attrs:{value:""}},[e._v("全部")]),e._v(" "),e._l(e.tradeTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dicName,value:e.dicCode}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"支付产品"}},[a("el-select",{attrs:{placeholder:"请选择支付产品"},model:{value:e.searchForm.productCode,callback:function(t){e.$set(e.searchForm,"productCode",t)},expression:"searchForm.productCode"}},[a("el-option",{attrs:{value:""}},[e._v("全部")]),e._v(" "),e._l(e.productCodeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dicName,value:e.dicCode}})})],2)],1)],1),e._v(" "),a("div",{staticClass:"row"},[a("el-form-item",{attrs:{label:"渠道编码"}},[a("el-input",{attrs:{placeholder:"请输入渠道编码"},model:{value:e.searchForm.channelCode,callback:function(t){e.$set(e.searchForm,"channelCode",t)},expression:"searchForm.channelCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道名称"}},[a("el-input",{attrs:{placeholder:"请输入渠道名称"},model:{value:e.searchForm.channelName,callback:function(t){e.$set(e.searchForm,"channelName",t)},expression:"searchForm.channelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收款人姓名"}},[a("el-input",{attrs:{placeholder:"请输入收款人姓名"},model:{value:e.searchForm.payeeName,callback:function(t){e.$set(e.searchForm,"payeeName",t)},expression:"searchForm.payeeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款人姓名"}},[a("el-input",{attrs:{placeholder:"请输入付款人姓名"},model:{value:e.searchForm.payerName,callback:function(t){e.$set(e.searchForm,"payerName",t)},expression:"searchForm.payerName"}})],1)],1),e._v(" "),a("div",{staticClass:"row"},[a("el-form-item",{attrs:{label:"银行卡号"}},[a("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:e.searchForm.payerAccount,callback:function(t){e.$set(e.searchForm,"payerAccount",t)},expression:"searchForm.payerAccount"}})],1),e._v(" "),a("el-form-item",{staticClass:"btn-item"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)])],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantId",label:"商户号",fixed:"",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantName",label:"商户名称",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"orderId",label:"订单号",fixed:"",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"orderNo",label:"商户订单号",width:"170"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeTypeName",label:"交易类型"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productName",label:"支付产品"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelName",label:"渠道名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"payAmount",label:"交易金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"fee",label:"手续费"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"statusName",label:"交易状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"payerName",label:"付款人姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"payeeName",label:"收款人姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"payerAccount",label:"银行卡号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"交易创建时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"completeTime",label:"交易完成时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleDetail(t.row)}}},[e._v("详情")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.detailShow,expression:"detailShow"}],attrs:{visible:e.detailShow,title:"交易详情",width:"66%","before-close":e.detailClose,center:""},on:{"update:visible":function(t){e.detailShow=t}}},[a("div",{staticClass:"detail-input"},[a("el-form",{ref:"detailForm",attrs:{inline:!0,model:e.detailForm,size:"mini","label-width":"105px"}},[a("div",[a("el-form-item",{attrs:{label:"商户号"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.merchantId,callback:function(t){e.$set(e.detailForm,"merchantId",t)},expression:"detailForm.merchantId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名称"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.merchantName,callback:function(t){e.$set(e.detailForm,"merchantName",t)},expression:"detailForm.merchantName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户费率"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.merchantRate,callback:function(t){e.$set(e.detailForm,"merchantRate",t)},expression:"detailForm.merchantRate"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"渠道编码"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.channelCode,callback:function(t){e.$set(e.detailForm,"channelCode",t)},expression:"detailForm.channelCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道名称"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.channelName,callback:function(t){e.$set(e.detailForm,"channelName",t)},expression:"detailForm.channelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道费率"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.channelRate,callback:function(t){e.$set(e.detailForm,"channelRate",t)},expression:"detailForm.channelRate"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.orderId,callback:function(t){e.$set(e.detailForm,"orderId",t)},expression:"detailForm.orderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户订单号"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.orderNo,callback:function(t){e.$set(e.detailForm,"orderNo",t)},expression:"detailForm.orderNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道订单号"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.sendChannelOrderNo,callback:function(t){e.$set(e.detailForm,"sendChannelOrderNo",t)},expression:"detailForm.sendChannelOrderNo"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"订单类型"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.tradeTypeName,callback:function(t){e.$set(e.detailForm,"tradeTypeName",t)},expression:"detailForm.tradeTypeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付产品"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.productName,callback:function(t){e.$set(e.detailForm,"productName",t)},expression:"detailForm.productName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易状态"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.statusName,callback:function(t){e.$set(e.detailForm,"statusName",t)},expression:"detailForm.statusName"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"交易总金额"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.totalAmount,callback:function(t){e.$set(e.detailForm,"totalAmount",t)},expression:"detailForm.totalAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实际金额"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.payAmount,callback:function(t){e.$set(e.detailForm,"payAmount",t)},expression:"detailForm.payAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手续费"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.fee,callback:function(t){e.$set(e.detailForm,"fee",t)},expression:"detailForm.fee"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"交易发生时间"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.createTime,callback:function(t){e.$set(e.detailForm,"createTime",t)},expression:"detailForm.createTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发送渠道时间"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.sendChannelTime,callback:function(t){e.$set(e.detailForm,"sendChannelTime",t)},expression:"detailForm.sendChannelTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易完成时间"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.completeTime,callback:function(t){e.$set(e.detailForm,"completeTime",t)},expression:"detailForm.completeTime"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"收款人姓名"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.payeeName,callback:function(t){e.$set(e.detailForm,"payeeName",t)},expression:"detailForm.payeeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款人姓名"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.payerName,callback:function(t){e.$set(e.detailForm,"payerName",t)},expression:"detailForm.payerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行卡号"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.payerAccount,callback:function(t){e.$set(e.detailForm,"payerAccount",t)},expression:"detailForm.payerAccount"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"分润人姓名"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.profitName,callback:function(t){e.$set(e.detailForm,"profitName",t)},expression:"detailForm.profitName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分润人金额"}},[a("el-input",{attrs:{readonly:""},model:{value:e.detailForm.profitAmount,callback:function(t){e.$set(e.detailForm,"profitAmount",t)},expression:"detailForm.profitAmount"}})],1)],1)])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailShow=!1}}},[e._v("返 回")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("交易列表")])])}]};var ge=a("vSla")(fe,be,!1,function(e){a("2Kci")},"data-v-7d6b59ec",null).exports,ve={data:function(){return{detailShow:!1,detailForm:{},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},searchForm:{storeId:"",storeName:"",orderId:"",storeOrderId:"",tradeStatus:"",tradeType:"",payProduct:"",channelCode:"",channelName:"",payeeName:"",payerName:"",bankCardNumber:"",tradeTime:""},rules:{storeId:[{required:!1,message:"请输入商户号",trigger:"blur"}],storeName:[{required:!1,message:"请输入商户名称",trigger:"blur"}],orderId:[{required:!1,message:"请输入订单号",trigger:"blur"}],storeOrderId:[{required:!1,message:"请输入商户订单",trigger:"blur"}],tradeStatus:[{required:!1,message:"请选择交易状态",trigger:"blur"}],tradeType:[{required:!1,message:"请选择交易类型",trigger:"blur"}],payProduct:[{required:!1,message:"请选择支付产品",trigger:"blur"}],channelCode:[{required:!1,message:"请输入渠道编码",trigger:"blur"}],channelName:[{required:!1,message:"请输入渠道名称",trigger:"blur"}],payeeName:[{required:!1,message:"请输入收款人姓名",trigger:"blur"}],payerName:[{required:!1,message:"请输入付款人姓名",trigger:"blur"}],bankCardNumber:[{required:!1,message:"请输入银行卡号",trigger:"blur"}],tradeTime:[{required:!1,message:"请选择交易时间",trigger:"blur"}]},tableData:[{id:"1",storeId:"M201804200107",storeName:"德御科技",orderId:"WDC2018042714452814",storeOrderId:"WZLD2018042618522149",tradeType:"消费",payProduct:"网关",channelName:"XXXX",tradeAmount:"49896.00",fees:"2.00",tradeStatus:"成功",payerName:"--",payeeName:"张三",bankCardNumber:"6226*****3921",tradeCreateTime:"2018-04-30 11:32:20",tradeFinishTime:"2018-04-30 11:32:40"},{id:"2",storeId:"M201804200107",storeName:"德御科技",orderId:"WDC2018042714452814",storeOrderId:"WZLD2018042618522149",tradeType:"消费",payProduct:"网关",channelName:"XXXX",tradeAmount:"49896.00",fees:"2.00",tradeStatus:"成功",payerName:"--",payeeName:"张三",bankCardNumber:"6226*****3921",tradeCreateTime:"2018-04-30 11:32:20",tradeFinishTime:"2018-04-30 11:32:40"}]}},methods:{searchSubmit:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;var r=t.$refs[e].model.feature;console.log("submit!",r)})},detailClose:function(){this.detailShow=!1,this.$refs.detailForm.resetFields()},detailSubmit:function(){console.log("detailSubmit!")},handleDetail:function(e){var t=e.id;this.detailShow=!0,this.detailForm={storeId:e.storeId,storeName:e.storeName,storeFees:e.storeFees,channelCode:e.channelCode,channelName:e.channelName,channelFees:e.channelFees,orderId:e.orderId,storeOrderId:e.storeOrderId,channelOrderId:e.channelOrderId,tradeType:e.tradeType,payProduct:e.payProduct,tradeStatus:e.tradeStatus,tradeTotalAmount:e.tradeTotalAmount,tradeAmount:e.tradeAmount,fees:e.fees,tradeCreateTime:e.tradeCreateTime,sendChannelTime:e.sendChannelTime,tradeFinishTime:e.tradeFinishTime,payeeName:e.payeeName,payerName:e.payerName,bankCardNumber:e.bankCardNumber,profitName:e.profitName,profitAmount:e.profitAmount},console.log("handleDetail!",e,t)}}},Ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"detail-input"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,rules:e.rules,size:"mini","label-width":"100px"}},[a("div",[a("el-form-item",{attrs:{label:"商户号",prop:"storeId"}},[a("el-input",{attrs:{placeholder:"请输入商户号"},model:{value:e.searchForm.storeId,callback:function(t){e.$set(e.searchForm,"storeId",t)},expression:"searchForm.storeId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名称",prop:"storeName"}},[a("el-input",{attrs:{placeholder:"请输入商户名称"},model:{value:e.searchForm.storeName,callback:function(t){e.$set(e.searchForm,"storeName",t)},expression:"searchForm.storeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单号",prop:"orderId"}},[a("el-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.searchForm.orderId,callback:function(t){e.$set(e.searchForm,"orderId",t)},expression:"searchForm.orderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户订单号",prop:"storeOrderId"}},[a("el-input",{attrs:{placeholder:"请输入商户订单"},model:{value:e.searchForm.storeOrderId,callback:function(t){e.$set(e.searchForm,"storeOrderId",t)},expression:"searchForm.storeOrderId"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"交易时间",prop:"tradeTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.searchForm.tradeTime,callback:function(t){e.$set(e.searchForm,"tradeTime",t)},expression:"searchForm.tradeTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易状态",prop:"tradeStatus"}},[a("el-select",{attrs:{placeholder:"请选择交易状态"},model:{value:e.searchForm.tradeStatus,callback:function(t){e.$set(e.searchForm,"tradeStatus",t)},expression:"searchForm.tradeStatus"}},[a("el-option",{attrs:{label:"成功",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"失败",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"处理中",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"待支付",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"关闭",value:"5"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"交易类型",prop:"tradeType"}},[a("el-select",{attrs:{placeholder:"请选择交易类型"},model:{value:e.searchForm.tradeType,callback:function(t){e.$set(e.searchForm,"tradeType",t)},expression:"searchForm.tradeType"}},[a("el-option",{attrs:{label:"充值",value:"recharge"}}),e._v(" "),a("el-option",{attrs:{label:"提现",value:"withdraw"}}),e._v(" "),a("el-option",{attrs:{label:"消费",value:"consumption"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"支付产品",prop:"payProduct"}},[a("el-select",{attrs:{placeholder:"请选择支付产品"},model:{value:e.searchForm.payProduct,callback:function(t){e.$set(e.searchForm,"payProduct",t)},expression:"searchForm.payProduct"}},[a("el-option",{attrs:{label:"快捷",value:"fast"}}),e._v(" "),a("el-option",{attrs:{label:"网关",value:"gateway"}}),e._v(" "),a("el-option",{attrs:{label:"代扣",value:"withholding"}}),e._v(" "),a("el-option",{attrs:{label:"支付宝",value:"alipay"}}),e._v(" "),a("el-option",{attrs:{label:"代付",value:"payfor"}}),e._v(" "),a("el-option",{attrs:{label:"微信",value:"wechat"}})],1)],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"渠道编码",prop:"channelCode"}},[a("el-input",{attrs:{placeholder:"请输入渠道编码"},model:{value:e.searchForm.channelCode,callback:function(t){e.$set(e.searchForm,"channelCode",t)},expression:"searchForm.channelCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道名称",prop:"channelName"}},[a("el-input",{attrs:{placeholder:"请输入渠道名称"},model:{value:e.searchForm.channelName,callback:function(t){e.$set(e.searchForm,"channelName",t)},expression:"searchForm.channelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收款人姓名",prop:"payeeName"}},[a("el-input",{attrs:{placeholder:"请输入收款人姓名"},model:{value:e.searchForm.payeeName,callback:function(t){e.$set(e.searchForm,"payeeName",t)},expression:"searchForm.payeeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款人姓名",prop:"payerName"}},[a("el-input",{attrs:{placeholder:"请输入付款人姓名"},model:{value:e.searchForm.payerName,callback:function(t){e.$set(e.searchForm,"payerName",t)},expression:"searchForm.payerName"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"银行卡号",prop:"bankCardNumber"}},[a("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:e.searchForm.bankCardNumber,callback:function(t){e.$set(e.searchForm,"bankCardNumber",t)},expression:"searchForm.bankCardNumber"}})],1),e._v(" "),a("el-form-item",{staticClass:"btn-item"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)])],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"storeId",label:"商户名",fixed:"",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"storeName",label:"商户名称",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"orderId",label:"订单号",fixed:"",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"storeOrderId",label:"商户订单号",width:"170"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeType",label:"交易类型"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"payProduct",label:"支付产品"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelName",label:"渠道名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeAmount",label:"交易金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"fees",label:"手续费"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeStatus",label:"交易状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"payerName",label:"付款人姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"payeeName",label:"收款人姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankCardNumber",label:"银行卡号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeCreateTime",label:"交易创建时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeFinishTime",label:"交易完成时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleDetail(t.row)}}},[e._v("详情")])]}}])})],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.detailShow,expression:"detailShow"}],attrs:{visible:e.detailShow,title:"交易详情",width:"66%","before-close":e.detailClose,center:""},on:{"update:visible":function(t){e.detailShow=t}}},[a("div",{staticClass:"detail-input"},[a("el-form",{ref:"detailForm",attrs:{inline:!0,model:e.detailForm,size:"mini","label-width":"105px"}},[a("div",[a("el-form-item",{attrs:{label:"商户号"}},[a("el-input",{model:{value:e.detailForm.storeId,callback:function(t){e.$set(e.detailForm,"storeId",t)},expression:"detailForm.storeId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名称"}},[a("el-input",{model:{value:e.detailForm.storeName,callback:function(t){e.$set(e.detailForm,"storeName",t)},expression:"detailForm.storeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户费率"}},[a("el-input",{model:{value:e.detailForm.storeFees,callback:function(t){e.$set(e.detailForm,"storeFees",t)},expression:"detailForm.storeFees"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"渠道编码"}},[a("el-input",{model:{value:e.detailForm.channelCode,callback:function(t){e.$set(e.detailForm,"channelCode",t)},expression:"detailForm.channelCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道名称"}},[a("el-input",{model:{value:e.detailForm.channelName,callback:function(t){e.$set(e.detailForm,"channelName",t)},expression:"detailForm.channelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道费率"}},[a("el-input",{model:{value:e.detailForm.channelFees,callback:function(t){e.$set(e.detailForm,"channelFees",t)},expression:"detailForm.channelFees"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{model:{value:e.detailForm.orderId,callback:function(t){e.$set(e.detailForm,"orderId",t)},expression:"detailForm.orderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户订单号"}},[a("el-input",{model:{value:e.detailForm.storeOrderId,callback:function(t){e.$set(e.detailForm,"storeOrderId",t)},expression:"detailForm.storeOrderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道订单号"}},[a("el-input",{model:{value:e.detailForm.channelOrderId,callback:function(t){e.$set(e.detailForm,"channelOrderId",t)},expression:"detailForm.channelOrderId"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"订单类型"}},[a("el-input",{model:{value:e.detailForm.tradeType,callback:function(t){e.$set(e.detailForm,"tradeType",t)},expression:"detailForm.tradeType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付产品"}},[a("el-input",{model:{value:e.detailForm.payProduct,callback:function(t){e.$set(e.detailForm,"payProduct",t)},expression:"detailForm.payProduct"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易状态"}},[a("el-input",{model:{value:e.detailForm.tradeStatus,callback:function(t){e.$set(e.detailForm,"tradeStatus",t)},expression:"detailForm.tradeStatus"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"交易总金额"}},[a("el-input",{model:{value:e.detailForm.tradeTotalAmount,callback:function(t){e.$set(e.detailForm,"tradeTotalAmount",t)},expression:"detailForm.tradeTotalAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实际金额"}},[a("el-input",{model:{value:e.detailForm.tradeAmount,callback:function(t){e.$set(e.detailForm,"tradeAmount",t)},expression:"detailForm.tradeAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手续费"}},[a("el-input",{model:{value:e.detailForm.fees,callback:function(t){e.$set(e.detailForm,"fees",t)},expression:"detailForm.fees"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"交易发生时间"}},[a("el-input",{model:{value:e.detailForm.tradeCreateTime,callback:function(t){e.$set(e.detailForm,"tradeCreateTime",t)},expression:"detailForm.tradeCreateTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发送渠道时间"}},[a("el-input",{model:{value:e.detailForm.sendChannelTime,callback:function(t){e.$set(e.detailForm,"sendChannelTime",t)},expression:"detailForm.sendChannelTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易完成时间"}},[a("el-input",{model:{value:e.detailForm.tradeFinishTime,callback:function(t){e.$set(e.detailForm,"tradeFinishTime",t)},expression:"detailForm.tradeFinishTime"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"收款人姓名"}},[a("el-input",{model:{value:e.detailForm.payeeName,callback:function(t){e.$set(e.detailForm,"payeeName",t)},expression:"detailForm.payeeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款人姓名"}},[a("el-input",{model:{value:e.detailForm.payerName,callback:function(t){e.$set(e.detailForm,"payerName",t)},expression:"detailForm.payerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行卡号"}},[a("el-input",{model:{value:e.detailForm.bankCardNumber,callback:function(t){e.$set(e.detailForm,"bankCardNumber",t)},expression:"detailForm.bankCardNumber"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"分润人姓名"}},[a("el-input",{model:{value:e.detailForm.profitName,callback:function(t){e.$set(e.detailForm,"profitName",t)},expression:"detailForm.profitName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分润人金额"}},[a("el-input",{model:{value:e.detailForm.profitAmount,callback:function(t){e.$set(e.detailForm,"profitAmount",t)},expression:"detailForm.profitAmount"}})],1)],1)])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailShow=!1}}},[e._v("返 回")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("可疑交易列表")])])}]},ke=a("vSla")(ve,Ce,!1,null,null,null).exports,_e={data:function(){return{detailShow:!1,detailForm:{},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},searchForm:{storeId:"",storeName:"",orderId:"",storeOrderId:"",tradeStatus:"",tradeType:"",payProduct:"",channelCode:"",channelName:"",payeeName:"",payerName:"",bankCardNumber:"",tradeTime:""},rules:{storeId:[{required:!1,message:"请输入商户号",trigger:"blur"}],storeName:[{required:!1,message:"请输入商户名称",trigger:"blur"}],orderId:[{required:!1,message:"请输入订单号",trigger:"blur"}],storeOrderId:[{required:!1,message:"请输入商户订单",trigger:"blur"}],tradeStatus:[{required:!1,message:"请选择交易状态",trigger:"blur"}],tradeType:[{required:!1,message:"请选择交易类型",trigger:"blur"}],payProduct:[{required:!1,message:"请选择支付产品",trigger:"blur"}],channelCode:[{required:!1,message:"请输入渠道编码",trigger:"blur"}],channelName:[{required:!1,message:"请输入渠道名称",trigger:"blur"}],payeeName:[{required:!1,message:"请输入收款人姓名",trigger:"blur"}],payerName:[{required:!1,message:"请输入付款人姓名",trigger:"blur"}],bankCardNumber:[{required:!1,message:"请输入银行卡号",trigger:"blur"}],tradeTime:[{required:!1,message:"请选择交易时间",trigger:"blur"}]},tableData:[{id:"1",storeId:"M201804200107",storeName:"德御科技",orderId:"WDC2018042714452814",storeOrderId:"WZLD2018042618522149",tradeType:"消费",payProduct:"网关",channelName:"XXXX",tradeAmount:"49896.00",fees:"2.00",tradeStatus:"成功",payerName:"--",payeeName:"张三",bankCardNumber:"6226*****3921",tradeCreateTime:"2018-04-30 11:32:20",tradeFinishTime:"2018-04-30 11:32:40"},{id:"2",storeId:"M201804200107",storeName:"德御科技",orderId:"WDC2018042714452814",storeOrderId:"WZLD2018042618522149",tradeType:"消费",payProduct:"网关",channelName:"XXXX",tradeAmount:"49896.00",fees:"2.00",tradeStatus:"成功",payerName:"--",payeeName:"张三",bankCardNumber:"6226*****3921",tradeCreateTime:"2018-04-30 11:32:20",tradeFinishTime:"2018-04-30 11:32:40"}]}},methods:{searchSubmit:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;var r=t.$refs[e].model.feature;console.log("submit!",r)})},detailClose:function(){this.detailShow=!1,this.$refs.detailForm.resetFields()},detailSubmit:function(){console.log("detailSubmit!")},handleDetail:function(e){var t=e.id;this.detailShow=!0,this.detailForm={storeId:e.storeId,storeName:e.storeName,storeFees:e.storeFees,channelCode:e.channelCode,channelName:e.channelName,channelFees:e.channelFees,orderId:e.orderId,storeOrderId:e.storeOrderId,channelOrderId:e.channelOrderId,tradeType:e.tradeType,payProduct:e.payProduct,tradeStatus:e.tradeStatus,tradeTotalAmount:e.tradeTotalAmount,tradeAmount:e.tradeAmount,fees:e.fees,tradeCreateTime:e.tradeCreateTime,sendChannelTime:e.sendChannelTime,tradeFinishTime:e.tradeFinishTime,payeeName:e.payeeName,payerName:e.payerName,bankCardNumber:e.bankCardNumber,profitName:e.profitName,profitAmount:e.profitAmount},console.log("handleDetail!",e,t)}}},Fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"detail-input"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,rules:e.rules,size:"mini","label-width":"100px"}},[a("div",[a("el-form-item",{attrs:{label:"商户号",prop:"storeId"}},[a("el-input",{attrs:{placeholder:"请输入商户号"},model:{value:e.searchForm.storeId,callback:function(t){e.$set(e.searchForm,"storeId",t)},expression:"searchForm.storeId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名称",prop:"storeName"}},[a("el-input",{attrs:{placeholder:"请输入商户名称"},model:{value:e.searchForm.storeName,callback:function(t){e.$set(e.searchForm,"storeName",t)},expression:"searchForm.storeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单号",prop:"orderId"}},[a("el-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.searchForm.orderId,callback:function(t){e.$set(e.searchForm,"orderId",t)},expression:"searchForm.orderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户订单号",prop:"storeOrderId"}},[a("el-input",{attrs:{placeholder:"请输入商户订单"},model:{value:e.searchForm.storeOrderId,callback:function(t){e.$set(e.searchForm,"storeOrderId",t)},expression:"searchForm.storeOrderId"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"交易时间",prop:"tradeTime"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.searchForm.tradeTime,callback:function(t){e.$set(e.searchForm,"tradeTime",t)},expression:"searchForm.tradeTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易状态",prop:"tradeStatus"}},[a("el-select",{attrs:{placeholder:"请选择交易状态"},model:{value:e.searchForm.tradeStatus,callback:function(t){e.$set(e.searchForm,"tradeStatus",t)},expression:"searchForm.tradeStatus"}},[a("el-option",{attrs:{label:"成功",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"失败",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"处理中",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"待支付",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"关闭",value:"5"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"交易类型",prop:"tradeType"}},[a("el-select",{attrs:{placeholder:"请选择交易类型"},model:{value:e.searchForm.tradeType,callback:function(t){e.$set(e.searchForm,"tradeType",t)},expression:"searchForm.tradeType"}},[a("el-option",{attrs:{label:"充值",value:"recharge"}}),e._v(" "),a("el-option",{attrs:{label:"提现",value:"withdraw"}}),e._v(" "),a("el-option",{attrs:{label:"消费",value:"consumption"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"支付产品",prop:"payProduct"}},[a("el-select",{attrs:{placeholder:"请选择支付产品"},model:{value:e.searchForm.payProduct,callback:function(t){e.$set(e.searchForm,"payProduct",t)},expression:"searchForm.payProduct"}},[a("el-option",{attrs:{label:"快捷",value:"fast"}}),e._v(" "),a("el-option",{attrs:{label:"网关",value:"gateway"}}),e._v(" "),a("el-option",{attrs:{label:"代扣",value:"withholding"}}),e._v(" "),a("el-option",{attrs:{label:"支付宝",value:"alipay"}}),e._v(" "),a("el-option",{attrs:{label:"代付",value:"payfor"}}),e._v(" "),a("el-option",{attrs:{label:"微信",value:"wechat"}})],1)],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"渠道编码",prop:"channelCode"}},[a("el-input",{attrs:{placeholder:"请输入渠道编码"},model:{value:e.searchForm.channelCode,callback:function(t){e.$set(e.searchForm,"channelCode",t)},expression:"searchForm.channelCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道名称",prop:"channelName"}},[a("el-input",{attrs:{placeholder:"请输入渠道名称"},model:{value:e.searchForm.channelName,callback:function(t){e.$set(e.searchForm,"channelName",t)},expression:"searchForm.channelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收款人姓名",prop:"payeeName"}},[a("el-input",{attrs:{placeholder:"请输入收款人姓名"},model:{value:e.searchForm.payeeName,callback:function(t){e.$set(e.searchForm,"payeeName",t)},expression:"searchForm.payeeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款人姓名",prop:"payerName"}},[a("el-input",{attrs:{placeholder:"请输入付款人姓名"},model:{value:e.searchForm.payerName,callback:function(t){e.$set(e.searchForm,"payerName",t)},expression:"searchForm.payerName"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"银行卡号",prop:"bankCardNumber"}},[a("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:e.searchForm.bankCardNumber,callback:function(t){e.$set(e.searchForm,"bankCardNumber",t)},expression:"searchForm.bankCardNumber"}})],1),e._v(" "),a("el-form-item",{staticClass:"btn-item"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)])],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"storeId",label:"商户名",fixed:"",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"storeName",label:"商户名称",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"orderId",label:"订单号",fixed:"",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"storeOrderId",label:"商户订单号",width:"170"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeType",label:"交易类型"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"payProduct",label:"支付产品"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelName",label:"渠道名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeAmount",label:"交易金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"fees",label:"手续费"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeStatus",label:"交易状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"payerName",label:"付款人姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"payeeName",label:"收款人姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankCardNumber",label:"银行卡号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeCreateTime",label:"交易创建时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeFinishTime",label:"交易完成时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleDetail(t.row)}}},[e._v("详情")])]}}])})],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.detailShow,expression:"detailShow"}],attrs:{visible:e.detailShow,title:"交易详情",width:"66%","before-close":e.detailClose,center:""},on:{"update:visible":function(t){e.detailShow=t}}},[a("div",{staticClass:"detail-input"},[a("el-form",{ref:"detailForm",attrs:{inline:!0,model:e.detailForm,size:"mini","label-width":"105px"}},[a("div",[a("el-form-item",{attrs:{label:"商户号"}},[a("el-input",{model:{value:e.detailForm.storeId,callback:function(t){e.$set(e.detailForm,"storeId",t)},expression:"detailForm.storeId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名称"}},[a("el-input",{model:{value:e.detailForm.storeName,callback:function(t){e.$set(e.detailForm,"storeName",t)},expression:"detailForm.storeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户费率"}},[a("el-input",{model:{value:e.detailForm.storeFees,callback:function(t){e.$set(e.detailForm,"storeFees",t)},expression:"detailForm.storeFees"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"渠道编码"}},[a("el-input",{model:{value:e.detailForm.channelCode,callback:function(t){e.$set(e.detailForm,"channelCode",t)},expression:"detailForm.channelCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道名称"}},[a("el-input",{model:{value:e.detailForm.channelName,callback:function(t){e.$set(e.detailForm,"channelName",t)},expression:"detailForm.channelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道费率"}},[a("el-input",{model:{value:e.detailForm.channelFees,callback:function(t){e.$set(e.detailForm,"channelFees",t)},expression:"detailForm.channelFees"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{model:{value:e.detailForm.orderId,callback:function(t){e.$set(e.detailForm,"orderId",t)},expression:"detailForm.orderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户订单号"}},[a("el-input",{model:{value:e.detailForm.storeOrderId,callback:function(t){e.$set(e.detailForm,"storeOrderId",t)},expression:"detailForm.storeOrderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道订单号"}},[a("el-input",{model:{value:e.detailForm.channelOrderId,callback:function(t){e.$set(e.detailForm,"channelOrderId",t)},expression:"detailForm.channelOrderId"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"订单类型"}},[a("el-input",{model:{value:e.detailForm.tradeType,callback:function(t){e.$set(e.detailForm,"tradeType",t)},expression:"detailForm.tradeType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付产品"}},[a("el-input",{model:{value:e.detailForm.payProduct,callback:function(t){e.$set(e.detailForm,"payProduct",t)},expression:"detailForm.payProduct"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易状态"}},[a("el-input",{model:{value:e.detailForm.tradeStatus,callback:function(t){e.$set(e.detailForm,"tradeStatus",t)},expression:"detailForm.tradeStatus"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"交易总金额"}},[a("el-input",{model:{value:e.detailForm.tradeTotalAmount,callback:function(t){e.$set(e.detailForm,"tradeTotalAmount",t)},expression:"detailForm.tradeTotalAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实际金额"}},[a("el-input",{model:{value:e.detailForm.tradeAmount,callback:function(t){e.$set(e.detailForm,"tradeAmount",t)},expression:"detailForm.tradeAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手续费"}},[a("el-input",{model:{value:e.detailForm.fees,callback:function(t){e.$set(e.detailForm,"fees",t)},expression:"detailForm.fees"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"交易发生时间"}},[a("el-input",{model:{value:e.detailForm.tradeCreateTime,callback:function(t){e.$set(e.detailForm,"tradeCreateTime",t)},expression:"detailForm.tradeCreateTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发送渠道时间"}},[a("el-input",{model:{value:e.detailForm.sendChannelTime,callback:function(t){e.$set(e.detailForm,"sendChannelTime",t)},expression:"detailForm.sendChannelTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易完成时间"}},[a("el-input",{model:{value:e.detailForm.tradeFinishTime,callback:function(t){e.$set(e.detailForm,"tradeFinishTime",t)},expression:"detailForm.tradeFinishTime"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"收款人姓名"}},[a("el-input",{model:{value:e.detailForm.payeeName,callback:function(t){e.$set(e.detailForm,"payeeName",t)},expression:"detailForm.payeeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款人姓名"}},[a("el-input",{model:{value:e.detailForm.payerName,callback:function(t){e.$set(e.detailForm,"payerName",t)},expression:"detailForm.payerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行卡号"}},[a("el-input",{model:{value:e.detailForm.bankCardNumber,callback:function(t){e.$set(e.detailForm,"bankCardNumber",t)},expression:"detailForm.bankCardNumber"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"分润人姓名"}},[a("el-input",{model:{value:e.detailForm.profitName,callback:function(t){e.$set(e.detailForm,"profitName",t)},expression:"detailForm.profitName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分润人金额"}},[a("el-input",{model:{value:e.detailForm.profitAmount,callback:function(t){e.$set(e.detailForm,"profitAmount",t)},expression:"detailForm.profitAmount"}})],1)],1)])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailShow=!1}}},[e._v("返 回")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("对账")])])}]},ye=a("vSla")(_e,Fe,!1,null,null,null).exports,Te={mixins:[T,N],data:function(){return{processFlagList:[{dicCode:!0,dicName:"处理"},{dicCode:!1,dicName:"未处理"}],detailShow:!1,detailForm:{},searchForm:{},tableData:[]}},created:function(){this._renderTableDate()},methods:{_renderTableDate:function(e){var t=this;this.loading=!0,pe.getPayCheckUpErrorList(e).then(function(e){t.renderTableDate(e,function(e,t){return{no:t+1,channelCode:e.channelCode,channelMerchantId:e.channelMerchantId,channelName:e.channelName,channelOrderNo:e.channelOrderNo,channelStatus:e.channelStatus,errorId:e.errorId,fee:e.fee,outRespCode:e.outRespCode,outRespDesc:e.outRespDesc,payAmount:e.payAmount,platTradeTime:e.platTradeTime,processFlag:e.processFlag,processResult:e.processResult,sendChannelOrderNo:e.sendChannelOrderNo,status:e.status,statusName:e.statusName}})})},searchSubmit:function(e){this._renderTableDate(this.searchForm)},detailClose:function(){this.detailShow=!1,this.$refs.detailForm.resetFields()},detailSubmit:function(){var e=this;console.log("detailSubmit!"),pe.updatePayCheckUpErrorList(this.detailForm.orderId).then(function(t){e.filterAxios(t,function(e){console.log("res",e)})})},handleDetail:function(e){var t=e.id;this.detailShow=!0,this.detailForm={orderId:e.orderId,processFlag:e.processFlag,processResult:e.processResult},console.log("handleDetail!",e,t)}}},Ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"detail-input"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,size:"mini","label-width":"100px"}},[a("div",[a("el-form-item",{attrs:{label:"处理状态"}},[a("el-select",{attrs:{placeholder:"请选择处理状态"},model:{value:e.searchForm.processFlag,callback:function(t){e.$set(e.searchForm,"processFlag",t)},expression:"searchForm.processFlag"}},[a("el-option",{attrs:{value:""}},[e._v("全部")]),e._v(" "),e._l(e.processFlagList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dicName,value:e.dicCode}})})],2)],1),e._v(" "),a("el-form-item",{staticClass:"btn-item"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)])],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"platTradeTime",label:"交易日期",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelCode",label:"渠道编码",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelName",label:"渠道名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelMerchantId",label:"渠道商户号",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelOrderNo",label:"渠道订单号",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"sendChannelOrderNo",label:"平台上送订单号",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelName",label:"交易时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeAmount",label:"支付金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"fees",label:"手续费"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeStatus",label:"渠道交易状态",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"平台交易状态",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"outRespCode",label:"渠道返回码",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"outRespDesc",label:"渠道返回描述",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"processFlag",label:"处理状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"processResult",label:"处理结果"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"platTradeTime",label:"创建时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeFinishTime",label:"修改时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleDetail(t.row)}}},[e._v("处理")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.detailShow,expression:"detailShow"}],attrs:{visible:e.detailShow,title:"交易详情",width:"66%","before-close":e.detailClose,center:""},on:{"update:visible":function(t){e.detailShow=t}}},[a("div",{staticClass:"detail-input"},[a("el-form",{ref:"detailForm",attrs:{inline:!0,model:e.detailForm,size:"mini","label-width":"105px"}},[a("div",[a("el-form-item",{attrs:{label:"商户号"}},[a("el-input",{model:{value:e.detailForm.storeId,callback:function(t){e.$set(e.detailForm,"storeId",t)},expression:"detailForm.storeId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名称"}},[a("el-input",{model:{value:e.detailForm.storeName,callback:function(t){e.$set(e.detailForm,"storeName",t)},expression:"detailForm.storeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户费率"}},[a("el-input",{model:{value:e.detailForm.storeFees,callback:function(t){e.$set(e.detailForm,"storeFees",t)},expression:"detailForm.storeFees"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"渠道编码"}},[a("el-input",{model:{value:e.detailForm.channelCode,callback:function(t){e.$set(e.detailForm,"channelCode",t)},expression:"detailForm.channelCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道名称"}},[a("el-input",{model:{value:e.detailForm.channelName,callback:function(t){e.$set(e.detailForm,"channelName",t)},expression:"detailForm.channelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道费率"}},[a("el-input",{model:{value:e.detailForm.channelFees,callback:function(t){e.$set(e.detailForm,"channelFees",t)},expression:"detailForm.channelFees"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{model:{value:e.detailForm.orderId,callback:function(t){e.$set(e.detailForm,"orderId",t)},expression:"detailForm.orderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户订单号"}},[a("el-input",{model:{value:e.detailForm.storeOrderId,callback:function(t){e.$set(e.detailForm,"storeOrderId",t)},expression:"detailForm.storeOrderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道订单号"}},[a("el-input",{model:{value:e.detailForm.channelOrderId,callback:function(t){e.$set(e.detailForm,"channelOrderId",t)},expression:"detailForm.channelOrderId"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"订单类型"}},[a("el-input",{model:{value:e.detailForm.tradeType,callback:function(t){e.$set(e.detailForm,"tradeType",t)},expression:"detailForm.tradeType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支付产品"}},[a("el-input",{model:{value:e.detailForm.payProduct,callback:function(t){e.$set(e.detailForm,"payProduct",t)},expression:"detailForm.payProduct"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易状态"}},[a("el-input",{model:{value:e.detailForm.tradeStatus,callback:function(t){e.$set(e.detailForm,"tradeStatus",t)},expression:"detailForm.tradeStatus"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"交易总金额"}},[a("el-input",{model:{value:e.detailForm.tradeTotalAmount,callback:function(t){e.$set(e.detailForm,"tradeTotalAmount",t)},expression:"detailForm.tradeTotalAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"实际金额"}},[a("el-input",{model:{value:e.detailForm.tradeAmount,callback:function(t){e.$set(e.detailForm,"tradeAmount",t)},expression:"detailForm.tradeAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手续费"}},[a("el-input",{model:{value:e.detailForm.fees,callback:function(t){e.$set(e.detailForm,"fees",t)},expression:"detailForm.fees"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"交易发生时间"}},[a("el-input",{model:{value:e.detailForm.tradeCreateTime,callback:function(t){e.$set(e.detailForm,"tradeCreateTime",t)},expression:"detailForm.tradeCreateTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发送渠道时间"}},[a("el-input",{model:{value:e.detailForm.sendChannelTime,callback:function(t){e.$set(e.detailForm,"sendChannelTime",t)},expression:"detailForm.sendChannelTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易完成时间"}},[a("el-input",{model:{value:e.detailForm.tradeFinishTime,callback:function(t){e.$set(e.detailForm,"tradeFinishTime",t)},expression:"detailForm.tradeFinishTime"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"收款人姓名"}},[a("el-input",{model:{value:e.detailForm.payeeName,callback:function(t){e.$set(e.detailForm,"payeeName",t)},expression:"detailForm.payeeName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款人姓名"}},[a("el-input",{model:{value:e.detailForm.payerName,callback:function(t){e.$set(e.detailForm,"payerName",t)},expression:"detailForm.payerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行卡号"}},[a("el-input",{model:{value:e.detailForm.bankCardNumber,callback:function(t){e.$set(e.detailForm,"bankCardNumber",t)},expression:"detailForm.bankCardNumber"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"分润人姓名"}},[a("el-input",{model:{value:e.detailForm.profitName,callback:function(t){e.$set(e.detailForm,"profitName",t)},expression:"detailForm.profitName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分润人金额"}},[a("el-input",{model:{value:e.detailForm.profitAmount,callback:function(t){e.$set(e.detailForm,"profitAmount",t)},expression:"detailForm.profitAmount"}})],1)],1)])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.detailShow=!1}}},[e._v("返 回")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("差错交易")])])}]},$e=a("vSla")(Te,Ne,!1,null,null,null).exports,we={mixins:[T,N],data:function(){return{activeName:"report-day",totalInfo:{amount:"1000.00",count:"1000"},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},searchForm:{},tableData:[]}},created:function(){this._renderTableDate()},methods:{handleClick:function(e){this.activeName=e.name,this._renderTableDate(),this.$refs.searchForm.resetFields(),this.searchForm={}},_renderTableDate:function(e){var t=this;this.loading=!0;var a=this.activeName;"report-day"===a?pe.getReportDay(e).then(function(e){t.renderTableDate(e,function(e,a){return t.renderReport(e,a)})}):"report-month"===a?pe.getReportMonth(e).then(function(e){t.renderTableDate(e,function(e,a){return t.renderReport(e,a)})}):"report-merchant-day"===a?pe.getReportMerchantDay(e).then(function(e){t.renderTableDate(e,function(e,a){return t.renderMerchantReport(e,a)})}):"report-merchant-month"===a?pe.getReportMerchantMonth(e).then(function(e){t.renderTableDate(e,function(e,a){return t.renderMerchantReport(e,a)})}):"report-channel-day"===a?pe.getReportChannelDay(e).then(function(e){t.renderTableDate(e,function(e,a){return t.renderChannelReport(e,a)})}):"report-channel-month"===a?pe.getReportChannelMonth(e).then(function(e){t.renderTableDate(e,function(e,a){return t.renderChannelReport(e,a)})}):"report-profit-day"===a?pe.getReportProfitDay(e).then(function(e){t.renderTableDate(e,function(e,a){return t.renderProfitReport(e,a)})}):"report-profit-month"===a&&pe.getReportProfitMonth(e).then(function(e){t.renderTableDate(e,function(e,a){return t.renderProfitReport(e,a)})})},renderReport:function(e,t){return{no:t+1,tradeDate:e.tradeDate,totalRecords:e.totalRecords,successRecords:e.successRecords,failRecords:e.failRecords,totalAmount:e.totalAmount,successAmount:e.successAmount,failAmount:e.failAmount,merchantTotalFee:e.merchantTotalFee,agentTotalFee:e.agentTotalFee}},renderMerchantReport:function(e,t){return{no:t+1,tradeDate:e.tradeDate,id:e.id,merchantName:e.merchantName,totalRecords:e.totalRecords,successRecords:e.successRecords,failRecords:e.failRecords,totalAmount:e.totalAmount,successAmount:e.successAmount,failAmount:e.failAmount,merchantTotalFee:e.merchantTotalFee,agentTotalFee:e.agentTotalFee}},renderChannelReport:function(e,t){return{no:t+1,tradeDate:e.tradeDate,channelName:e.channelName,totalRecords:e.totalRecords,successRecords:e.successRecords,failRecords:e.failRecords,totalAmount:e.totalAmount,successAmount:e.successAmount,failAmount:e.failAmount,totalFee:e.totalFee}},renderProfitReport:function(e,t){return{no:t+1,tradeDate:e.tradeDate,totalAmount:e.totalAmount,successAmount:e.successAmount,failAmount:e.failAmount,merchantFee:e.merchantFee,agentFee:e.agentFee,channelFee:e.channelFee,profit:e.profit}},searchSubmit:function(e){console.log(e),console.log(this.searchForm);var t=this.searchForm.tradeTime;t&&2===t.length&&(this.searchForm.tradeDateStart=t[0],this.searchForm.tradeDateEnd=t[1]),console.log(this.searchForm),this._renderTableDate(this.searchForm)}}},Ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"交易报表-日",name:"report-day"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"交易报表-月",name:"report-month"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"交易报表-商户-日",name:"report-merchant-day"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"交易报表-商户-月",name:"report-merchant-month"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"交易报表-渠道-日",name:"report-channel-day"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"交易报表-渠道-月",name:"report-channel-month"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"交易报表-利润-日",name:"report-profit-day"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"交易报表-利润-月",name:"report-profit-month"}})],1),e._v(" "),a("div",{staticClass:"detail-input"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,size:"mini","label-width":"100px"}},["report-day"===e.activeName||"report-merchant-day"===e.activeName||"report-channel-day"===e.activeName||"report-profit-day"===e.activeName?[a("el-form-item",{attrs:{label:"交易时间"}},[a("el-date-picker",{attrs:{type:"daterange",align:"left","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},model:{value:e.searchForm.tradeTime,callback:function(t){e.$set(e.searchForm,"tradeTime",t)},expression:"searchForm.tradeTime"}})],1)]:e._e(),e._v(" "),"report-month"===e.activeName||"report-merchant-month"===e.activeName||"report-channel-month"===e.activeName||"report-profit-month"===e.activeName?[a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{attrs:{align:"left",type:"month",placeholder:"选择开始时间"},model:{value:e.searchForm.tradeDateStart,callback:function(t){e.$set(e.searchForm,"tradeDateStart",t)},expression:"searchForm.tradeDateStart"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{attrs:{align:"left",type:"month",placeholder:"选择结束时间"},model:{value:e.searchForm.tradeDateEnd,callback:function(t){e.$set(e.searchForm,"tradeDateEnd",t)},expression:"searchForm.tradeDateEnd"}})],1)]:e._e(),e._v(" "),a("el-form-item",{staticClass:"btn-item"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],2)],1),e._v(" "),"report-day"===e.activeName||"report-month"===e.activeName||"report-merchant-day"===e.activeName||"report-merchant-month"===e.activeName?a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeDate",label:"交易时间"}}),e._v(" "),"report-merchant-day"===e.activeName||"report-merchant-month"===e.activeName?[a("el-table-column",{attrs:{align:"center",prop:"merchantName",label:"商户"}})]:e._e(),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalRecords",label:"交易总笔数"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"successRecords",label:"成功笔数"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"failRecords",label:"失败笔数"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalAmount",label:"交易总金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"successAmount",label:"成功总金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"failAmount",label:"失败总金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantTotalFee",label:"商户手续费"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"agentTotalFee",label:"代理商手续费"}})],2)],1):e._e(),e._v(" "),"report-channel-day"===e.activeName||"report-channel-month"===e.activeName?a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeDate",label:"交易时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelName",label:"渠道"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalRecords",label:"交易总笔数"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"successRecords",label:"成功笔数"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"failRecords",label:"失败笔数"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalAmount",label:"交易总金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"successAmount",label:"成功总金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"failAmount",label:"失败总金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalFee",label:"手续费总金额"}})],1)],1):e._e(),e._v(" "),"report-profit-day"===e.activeName||"report-profit-month"===e.activeName?a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"tradeDate",label:"交易时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalAmount",label:"交易总金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"successAmount",label:"成功总金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"failAmount",label:"失败总金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantFee",label:"商户手续费"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"agentFee",label:"代理商手续费"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelFee",label:"渠道手续费"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"profit",label:"利润"}})],1)],1):e._e()],1)},staticRenderFns:[]};var xe=a("vSla")(we,Ie,!1,function(e){a("YNVA")},"data-v-a6fa9d24",null).exports;function Se(e){var t=parseFloat(e);if(isNaN(t))return!1;var a=(t=Math.round(e*Math.pow(10,2))/Math.pow(10,2)).toString(),r=a.indexOf(".");for(r<0&&(r=a.length,a+=".");a.length<=r+2;)a+="0";return a=a.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")}function De(e){return new Date(e).getTime()}function Ae(e,t){t=t||"yyyy-MM-dd hh:mm:ss",e="number"==typeof e?new Date(e):e,/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var r in a)if(new RegExp("("+r+")").test(t)){var l=a[r]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?l:Le(l))}return t}function Le(e){return("00"+(e=String(e))).substr(e.length)}var Re={getStoreList:function(e){return D("/business/merchant/pageList","POST",e)},addStroreUser:function(e){return D("/business/merchant/add","POST",e)},updateStroreUser:function(e,t){return D("/business/merchant/"+e+"/update","POST",t)},getStoreDetailInfo:function(e){return D("/business/merchant/"+e+"/detail")},getStoreAppInfo:function(e){return D("/business/merchant/"+e+"/merchantOpenApp/detail")},updateAppInfo:function(e,t){return D("/business/merchant/"+e+"/merchantOpenApp/update","POST",t)}},Pe={mixins:[T,N],data:function(){var e=this;return{addUserShow:!1,updateAppInfoShow:!1,storeAppInfo:{},searchForm:{merchantId:"",merchantName:"",status:""},form:{},rules:{merchantId:[{required:!0,message:"请输入商户号",trigger:"blur"}],merchantName:[{required:!0,message:"请输入商户名称",trigger:"blur"}],merchantType:[{required:!0,message:"请选择商户类型",trigger:"blur"}],linkmanName:[{required:!0,message:"请输入联系人姓名",trigger:"blur"}],linkmanPhone:[{required:!0,message:"请输入联系人手机号",trigger:"blur"},{validator:this.checkPhone,trigger:"blur"}],linkmanEmail:[{required:!0,message:"请输入联系人邮箱",trigger:"blur"},{type:"email",message:"请输入正确格式的邮箱邮箱",trigger:"blur"}],agentMerchantName:[{required:!1,message:"请输入代理商名称",trigger:"blur"}],cardType:[{required:!0,message:"请选择卡类型",trigger:"blur"}],bankCardNo:[{required:!0,message:"请输入银行卡号",trigger:"blur"},{min:16,max:19,message:"银行卡号长度必须在16到19位之间",trigger:"blur"}],accountName:[{required:!0,message:"请输入账户名称",trigger:"blur"},{validator:this.checkChinese,trigger:"blur"}],bankName:[{required:!0,message:"请输入开户行名称",trigger:"blur"}],branchNo:[{validator:function(t,a,r){"PUB"===e.form.cardType&&""===a?r(new Error("对公账户必须输入联行号")):r()},trigger:"blur"}],payPassword:[{validator:function(t,a,r){"添加"===e.form.title&&""===a?r(new Error("支付密码不能为空")):r()},trigger:"blur"},{min:6,max:16,message:"支付密码长度必须在6到16位之间",trigger:"blur"}],md5Key:[{validator:function(t,a,r){"添加"===e.form.title&&""===a?r(new Error("应用密钥不能为空")):r()},trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},appInfoForm:{},appInfoRules:{},addUserForm:{},addUserRules:{roleId:[{required:!0,message:"请选择角色",trigger:"blur"}],linkmanName:[{required:!0,message:"请输入姓名",trigger:"blur"}],userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],nickName:[{required:!0,message:"请输入昵称",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:function(t,a,r){""===a?r(new Error("请输入密码")):(""!==e.addUserForm.checkPass&&e.$refs.addUserForm.validateField("checkPass"),r())},trigger:"blur"}],checkPass:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:function(t,a,r){""===a?r(new Error("请再次输入密码")):a!==e.addUserForm.password?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}],linkmanPhone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:this.checkPhone,trigger:"blur"}],linkmanEmail:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确格式的邮箱邮箱",trigger:"blur"}],qq:[{required:!0,message:"请输入QQ号",trigger:"blur"},{validator:this.checkQQ,trigger:"blur"}],wechat:[{required:!0,message:"请输入微信号",trigger:"blur"},{validator:this.checkWechat,trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},roleList:[]}},created:function(){this._renderTableDate()},methods:{_renderTableDate:function(e){var t=this;t.loading=!0,Re.getStoreList(e).then(function(e){t.renderTableDate(e,function(e,t){return{no:t+1,id:e.id,merchantId:e.merchantId,merchantName:e.merchantName,linkmanName:e.linkmanName,linkmanPhone:e.linkmanPhone,linkmanEmail:e.linkmanEmail,merchantType:"AGENT"===e.merchantType?"代理商户":"普通商户",merchantAgentId:e.merchantAgentId,agentMerchantName:e.agentMerchantName,amount:Se(e.amount),freezingAmount:Se(e.freezingAmount),status:"VALID"===e.status?"生效":"失效",createTime:e.createTime,operate:{add:"AGENT"===e.merchantType,update:!0}}})},function(e){console.log("err",e)})},searchSubmit:function(e){var t=this,a=this;a.$refs[e].validate(function(r){if(!r)return console.log("error submit!!"),!1;var l=t.$refs[e].model.feature;a._renderTableDate(a.searchForm),console.log("submit!",l)})},handleStore:function(e,t){this.addShow=!0,e instanceof Object?t&&"update"===t?this.getStoreInfo(e.id):this.form={title:"添加",merchantAgentId:e.merchantId,merchantAgentName:e.merchantName}:this.form={title:"添加"},console.log("this.form",this.form)},getStoreInfo:function(e){var t=this;Re.getStoreDetailInfo(e).then(function(e){t.filterAxios(e,function(e){t.form={title:"修改",merchantId:e.merchantId,merchantName:e.merchantName,merchantType:e.merchantType,linkmanName:e.linkmanName,linkmanPhone:e.linkmanPhone,linkmanEmail:e.linkmanEmail,merchantAgentId:e.merchantAgentId+"",merchantAgentName:e.merchantAgentName,cardType:e.cardType,bankCardNo:e.bankCardNo,accountName:e.accountName,bankName:e.bankName,branchNo:e.branchNo,payPassword:e.payPassword,md5Key:e.md5Key,status:e.status}})})},addSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;"添加"===e.form.title?(delete e.form.title,e.form.agentMerchantName&&delete e.form.agentMerchantName,Re.addStroreUser(e.form).then(function(t){e.formatResult(t,"添加成功")})):(delete e.form.title,e.form.agentMerchantName&&delete e.form.agentMerchantName,Re.updateStroreUser(e.form.id,e.form).then(function(t){e.formatResult(t,"修改成功")}))})},formClose:function(){this.addShow=!1,this.$refs.form.resetFields(),this.form={}},formatResult:function(e,t){var a=this;this.formClose(),this.filterAxios(e,function(e){a.successTips(t),a._renderTableDate()})},handleAppInfo:function(e){this.appInfoForm={},this.getAppInfo(e.merchantId),this.updateAppInfoShow=!0},updateAppInfoClose:function(){this.updateAppInfoShow=!1,this.$refs.appInfoForm.resetFields(),this.appInfoForm={}},appSubmit:function(){var e=this;Re.updateAppInfo(this.appInfoForm.merchantId,this.appInfoForm).then(function(t){e.filterAxios(t,function(t){e.successTips("应用信息修改成功"),e.updateAppInfoClose()})})},getAppInfo:function(e){var t=this;Re.getStoreAppInfo(e).then(function(e){t.filterAxios(e,function(e){t.storeAppInfo=e,t.appInfoForm={merchantId:t.storeAppInfo.merchantId,appId:t.storeAppInfo.appId,id:t.storeAppInfo.id,md5Key:t.storeAppInfo.md5Key,status:t.storeAppInfo.status}})})},goProductList:function(e){this.$router.push({path:"/product_list",query:{merchantId:e.merchantId,merchantName:e.merchantName,agentMerchantName:e.agentMerchantName}})},handleAddUser:function(e){this.addUserForm={merchantId:e.merchantId,merchantName:e.merchantName},this.roleList.length<=0&&this.getRoleList(),this.addUserShow=!0},addUserClose:function(){this.addUserShow=!1,this.addUserForm={},this.$refs.addUserForm&&this.$refs.addUserForm.resetFields()},addUserSubmit:function(){var e=this;this.$refs.addUserForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;console.log("addUserForm",e.addUserForm),delete e.form.checkPass,L.addUser(e.addUserForm).then(function(t){e.filterAxios(t,function(t){e.successTips("添加用户成功"),e.addUserClose(),e._renderTableDate()})})})},getRoleList:function(){var e=this,t=this;L.roleList().then(function(a){t.filterAxios(a,function(t){e.roleList=t.list})})}}},qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"detail-input"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,size:"mini","label-width":"100px"}},[a("el-form-item",{attrs:{label:"商户号"}},[a("el-input",{attrs:{placeholder:"请输入商户号"},model:{value:e.searchForm.merchantId,callback:function(t){e.$set(e.searchForm,"merchantId",t)},expression:"searchForm.merchantId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名称"}},[a("el-input",{attrs:{placeholder:"请输入商户名称"},model:{value:e.searchForm.merchantName,callback:function(t){e.$set(e.searchForm,"merchantName",t)},expression:"searchForm.merchantName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"正常",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"失效",value:"INVALID"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"btn-item"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"table-btn"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.handleStore()}}},[e._v("添加")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantId",label:"商户号",fixed:"",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantName",label:"商户名称",fixed:"",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantType",label:"商户类型"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"linkmanName",label:"联系人姓名",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"linkmanPhone",label:"联系人手机号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"linkmanEmail",label:"联系人邮箱",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"商户状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"入网时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"agentMerchantName",label:"代理商户",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"amount",label:"商户余额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"freezingAmount",label:"冻结金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",fixed:"right",width:"480"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.goProductList(t.row)}}},[e._v("产品列表")]),e._v(" "),t.row.operate.add?a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){e.handleStore(t.row,"add")}}},[e._v("添加")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleStore(t.row,"update")}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){e.handleAddUser(t.row)}}},[e._v("添加用户")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleAppInfo(t.row)}}},[e._v("修改应用信息")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addShow,expression:"addShow"}],attrs:{visible:e.addShow,title:e.form.title,width:"75%","before-close":e.addClose,center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",{staticClass:"detail-input"},[a("el-form",{ref:"form",attrs:{inline:!0,model:e.form,rules:e.rules,size:"small","label-width":"105px"}},[a("div",{staticClass:"el-form-line"},[a("el-form-item",{attrs:{label:"商户号",prop:"merchantId"}},[a("el-input",{attrs:{placeholder:"请输入商户号",disabled:"修改"===e.form.title},model:{value:e.form.merchantId,callback:function(t){e.$set(e.form,"merchantId",t)},expression:"form.merchantId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名称",prop:"merchantName"}},[a("el-input",{attrs:{placeholder:"请输入商户名称"},model:{value:e.form.merchantName,callback:function(t){e.$set(e.form,"merchantName",t)},expression:"form.merchantName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户类型",prop:"merchantType"}},[a("el-select",{attrs:{placeholder:"请选择商户类型"},model:{value:e.form.merchantType,callback:function(t){e.$set(e.form,"merchantType",t)},expression:"form.merchantType"}},[a("el-option",{attrs:{label:"普通商户",value:"COMMON"}}),e._v(" "),a("el-option",{attrs:{label:"代理商户",value:"AGENT"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"el-form-line"},[a("el-form-item",{attrs:{label:"联系人姓名",prop:"linkmanName"}},[a("el-input",{attrs:{placeholder:"请输入联系人姓名"},model:{value:e.form.linkmanName,callback:function(t){e.$set(e.form,"linkmanName",t)},expression:"form.linkmanName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人手机号",prop:"linkmanPhone"}},[a("el-input",{attrs:{placeholder:"请输入联系人手机号"},model:{value:e.form.linkmanPhone,callback:function(t){e.$set(e.form,"linkmanPhone",t)},expression:"form.linkmanPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系人邮箱",prop:"linkmanEmail"}},[a("el-input",{attrs:{placeholder:"请输入联系人邮箱"},model:{value:e.form.linkmanEmail,callback:function(t){e.$set(e.form,"linkmanEmail",t)},expression:"form.linkmanEmail"}})],1)],1),e._v(" "),a("div",{staticClass:"el-form-line"},[a("el-form-item",{attrs:{label:"代理商户名称",prop:"merchantAgentName"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.merchantAgentName,callback:function(t){e.$set(e.form,"merchantAgentName",t)},expression:"form.merchantAgentName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行卡类型",prop:"cardType"}},[a("el-select",{attrs:{placeholder:"请选择银行卡类型"},model:{value:e.form.cardType,callback:function(t){e.$set(e.form,"cardType",t)},expression:"form.cardType"}},[a("el-option",{attrs:{label:"借记卡",value:"PSN_DEBIT"}}),e._v(" "),a("el-option",{attrs:{label:"对公账户",value:"PUB"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"银行卡号",prop:"bankCardNo"}},[a("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:e.form.bankCardNo,callback:function(t){e.$set(e.form,"bankCardNo",t)},expression:"form.bankCardNo"}})],1)],1),e._v(" "),a("div",{staticClass:"el-form-line"},[a("el-form-item",{attrs:{label:"账户名称",prop:"accountName"}},[a("el-input",{attrs:{placeholder:"请输入账户名称"},model:{value:e.form.accountName,callback:function(t){e.$set(e.form,"accountName",t)},expression:"form.accountName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开户行名称",prop:"bankName"}},[a("el-input",{attrs:{placeholder:"请输入开户行名称"},model:{value:e.form.bankName,callback:function(t){e.$set(e.form,"bankName",t)},expression:"form.bankName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联行号",prop:"branchNo"}},[a("el-input",{attrs:{placeholder:"请输入联行号"},model:{value:e.form.branchNo,callback:function(t){e.$set(e.form,"branchNo",t)},expression:"form.branchNo"}})],1)],1),e._v(" "),a("div",{staticClass:"el-form-line"},[a("el-form-item",{attrs:{label:"支付密码",prop:"payPassword"}},[a("el-input",{attrs:{placeholder:"请输入支付密码"},model:{value:e.form.payPassword,callback:function(t){e.$set(e.form,"payPassword",t)},expression:"form.payPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应用密钥",prop:"md5Key"}},[a("el-input",{attrs:{placeholder:"请输入应用密钥"},model:{value:e.form.md5Key,callback:function(t){e.$set(e.form,"md5Key",t)},expression:"form.md5Key"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"正常",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"失效",value:"INVALID"}})],1)],1)],1)])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addSubmit}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addUserShow,expression:"addUserShow"}],attrs:{visible:e.addUserShow,title:"添加用户",width:"30%","before-close":e.addUserClose,center:""},on:{"update:visible":function(t){e.addUserShow=t}}},[a("div",[a("el-form",{ref:"addUserForm",attrs:{model:e.addUserForm,rules:e.addUserRules,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"商户"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.addUserForm.merchantName,callback:function(t){e.$set(e.addUserForm,"merchantName",t)},expression:"addUserForm.merchantName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色",prop:"roleId"}},[a("el-select",{attrs:{placeholder:"请选择角色"},model:{value:e.addUserForm.roleId,callback:function(t){e.$set(e.addUserForm,"roleId",t)},expression:"addUserForm.roleId"}},e._l(e.roleList,function(e,t){return a("el-option",{key:t,attrs:{label:e.roleName,value:e.roleId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"linkmanName"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.addUserForm.linkmanName,callback:function(t){e.$set(e.addUserForm,"linkmanName",t)},expression:"addUserForm.linkmanName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.addUserForm.userName,callback:function(t){e.$set(e.addUserForm,"userName",t)},expression:"addUserForm.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"昵称",prop:"nickName"}},[a("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.addUserForm.nickName,callback:function(t){e.$set(e.addUserForm,"nickName",t)},expression:"addUserForm.nickName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入登录密码"},model:{value:e.addUserForm.password,callback:function(t){e.$set(e.addUserForm,"password",t)},expression:"addUserForm.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入确认密码"},model:{value:e.addUserForm.checkPass,callback:function(t){e.$set(e.addUserForm,"checkPass",t)},expression:"addUserForm.checkPass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"linkmanPhone"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.addUserForm.linkmanPhone,callback:function(t){e.$set(e.addUserForm,"linkmanPhone",t)},expression:"addUserForm.linkmanPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"linkmanEmail"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.addUserForm.linkmanEmail,callback:function(t){e.$set(e.addUserForm,"linkmanEmail",t)},expression:"addUserForm.linkmanEmail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"QQ",prop:"qq"}},[a("el-input",{attrs:{placeholder:"请输入QQ"},model:{value:e.addUserForm.qq,callback:function(t){e.$set(e.addUserForm,"qq",t)},expression:"addUserForm.qq"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微信号",prop:"wechat"}},[a("el-input",{attrs:{placeholder:"请输入微信号"},model:{value:e.addUserForm.wechat,callback:function(t){e.$set(e.addUserForm,"wechat",t)},expression:"addUserForm.wechat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.addUserForm.status,callback:function(t){e.$set(e.addUserForm,"status",t)},expression:"addUserForm.status"}},[a("el-option",{attrs:{label:"有效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"INVALID"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addUserShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addUserSubmit}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.updateAppInfoShow,expression:"updateAppInfoShow"}],attrs:{visible:e.updateAppInfoShow,title:"修改应用信息",width:"30%","before-close":e.updateAppInfoClose,center:""},on:{"update:visible":function(t){e.updateAppInfoShow=t}}},[a("div",[a("el-form",{ref:"appInfoForm",attrs:{model:e.appInfoForm,rules:e.appInfoRules,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"APPID"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.appInfoForm.appId,callback:function(t){e.$set(e.appInfoForm,"appId",t)},expression:"appInfoForm.appId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.appInfoForm.merchantId,callback:function(t){e.$set(e.appInfoForm,"merchantId",t)},expression:"appInfoForm.merchantId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"md5密钥"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.appInfoForm.md5Key,callback:function(t){e.$set(e.appInfoForm,"md5Key",t)},expression:"appInfoForm.md5Key"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.appInfoForm.status,callback:function(t){e.$set(e.appInfoForm,"status",t)},expression:"appInfoForm.status"}},[a("el-option",{attrs:{label:"有效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"INVALID"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.updateAppInfoShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.appSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("商户列表")])])}]},Be=a("vSla")(Pe,qe,!1,null,null,null).exports,Ee={getList:function(e){return D("/business/merchant/merchantProduct/pageList","POST",e)},getAgentProductList:function(e){return D("/business/merchant/merchantProduct/agentProductList?merchantId="+e)},add:function(e){return D("/business/merchant/merchantProduct/add?merchantId="+e.merchantId,"POST",e)},update:function(e,t){return D("/business/merchant/merchantProduct/"+e+"/update","POST",t)}},Ue={mixins:[T,N],data:function(){var e=this;return{storeInfo:{},searchForm:{merchantId:"",status:""},rules:{productValue:[{required:!0,message:"请选择产品",trigger:"blur"}],rate:[{required:!0,message:"请输入费率",trigger:"blur"},{validator:function(t,a,r){e.storeInfo.agentMerchantName&&e.form.merchantAgentRate<a&&r(new Error("费率须小于代理商费率")),a<0&&r(new Error("费率不得小于0")),r()},trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},form:{formTitle:"添加"},selectProductList:[],selectTypeList:[]}},created:function(){var e=this;this.storeInfo=this.$route.query,this.searchForm.merchantId=this.storeInfo.merchantId,this.selectProductList.length<=0&&this.getProductList(),this.getRateTypeList().then(function(t){e._renderTableDate({merchantId:e.storeInfo.merchantId})})},methods:{_renderTableDate:function(e){var t=this;this.loading=!0,Ee.getList(e).then(function(e){t.renderTableDate(e,function(e,a){var r=t.selectTypeList.map(function(e){return e.dicName});return{no:a+1,id:e.id,merchantId:e.merchantId,merchantName:e.merchantName,productCode:e.productCode,productName:e.productName,rateType:e.rateType,rateTypeDesc:r[e.rateType-1],rate:e.rate,rateDesc:e.rate+("1"===e.rateType?"元":""),merchantAgentName:e.merchantAgentName,merchantAgentRateType:e.merchantAgentRateType,merchantAgentRateTypeDesc:r[e.merchantAgentRateType-1],merchantAgentRate:e.merchantAgentRate,merchantAgentRateDesc:e.merchantAgentRate+("1"===e.merchantAgentRateType?"元":""),status:"VALID"===e.status?"生效":"失效",createTime:e.createTime,updateTime:e.modifiedTime,operate:{update:!0}}})})},searchSubmit:function(e){this._renderTableDate(this.$refs[e].model)},formClose:function(){this.addShow=!1,this.form={},this.$refs.form&&this.$refs.form.resetFields()},handleForm:function(e){e instanceof Object?this.form={formTitle:"修改",id:e.id,merchantId:e.merchantId,merchantName:e.merchantName,merchantAgentName:e.merchantAgentName,merchantAgentRate:e.merchantAgentRate,productCode:e.productCode,productValue:e.productCode+"-"+e.merchantAgentRate+"-"+e.rateType,rateType:e.rateType,rate:e.rate,status:"生效"===e.status?"VALID":"INVALID"}:this.form={formTitle:"添加",merchantId:this.storeInfo.merchantId,merchantName:this.storeInfo.merchantName,agentMerchantName:this.storeInfo.agentMerchantName},this.addShow=!0},formSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;delete e.form.merchantName,delete e.form.agentName,"添加"===e.form.formTitle?(delete e.form.formTitle,delete e.form.merchantName,delete e.form.agentMerchantName,delete e.form.merchantAgentRate,delete e.form.merchantAgentRateType,Ee.add(e.form).then(function(t){e.formatResult(t,"添加成功")})):(delete e.form.formTitle,delete e.form.merchantId,Ee.update(e.form.id,e.form).then(function(t){e.formatResult(t,"修改成功")}))})},formatResult:function(e,t){var a=this,r=this;r.formClose(),r.filterAxios(e,function(e){r.successTips(t),r._renderTableDate({merchantId:a.storeInfo.merchantId})})},getProductList:function(){var e=this;this.storeInfo.agentMerchantName?Ee.getAgentProductList(this.storeInfo.merchantId).then(function(t){e.filterAxios(t,function(t){t.map(function(t){e.selectProductList.push(d()({},t,{value:t.dicCode+"-"+t.merchantAgentRate+"-"+t.merchantAgentRateType}))})})}):he.getDictionaryList("PRODUCT_CODE").then(function(t){e.filterAxios(t,function(t){e.selectProductList=t})})},getRateTypeList:function(){var e=this;return he.getDictionaryList("PROD_RATE_TYPE").then(function(t){e.filterAxios(t,function(t){e.selectTypeList=t})})},handleProductCodeChange:function(){if(this.storeInfo.agentMerchantName){var e=this.form.productValue.split("-");this.form.productCode=e[0],this.form.merchantAgentRate=e[1],this.form.rateType=e[2]}}}},Oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"operating"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,size:"mini"}},[a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"正常",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"失效",value:"INVALID"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"table-btn"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.handleForm("add")}}},[e._v("添加")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantId",label:"商户号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantName",label:"商户名称",fixed:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productName",label:"产品名称",fixed:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"rateTypeDesc",label:"产品费率类型",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"rateDesc",label:"产品费率",width:"70"}}),e._v(" "),e.storeInfo.agentMerchantName?[a("el-table-column",{attrs:{align:"center",prop:"merchantAgentName",label:"代理商名称",width:"84"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantAgentRateTypeDesc",label:"代理商费率类型",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantAgentRateDesc",label:"代理商费率",width:"100"}})]:e._e(),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",width:"100",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleForm(t.row)}}},[e._v("修改")]):e._e()]}}])})],2)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addShow,expression:"addShow"}],attrs:{visible:e.addShow,title:e.form.formTitle,width:"30%","before-close":e.addClose,center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"商户号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.merchantId,callback:function(t){e.$set(e.form,"merchantId",t)},expression:"form.merchantId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.merchantName,callback:function(t){e.$set(e.form,"merchantName",t)},expression:"form.merchantName"}})],1),e._v(" "),e.storeInfo.agentMerchantName?a("el-form-item",{attrs:{label:"代理商名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.storeInfo.agentMerchantName,callback:function(t){e.$set(e.storeInfo,"agentMerchantName",t)},expression:"storeInfo.agentMerchantName"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"产品",prop:"productValue"}},[a("el-select",{attrs:{placeholder:"请选择产品"},on:{change:e.handleProductCodeChange},model:{value:e.form.productValue,callback:function(t){e.$set(e.form,"productValue",t)},expression:"form.productValue"}},e._l(e.selectProductList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dicName,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"费率类型",prop:"rateType"}},[a("el-select",{attrs:{placeholder:"",disabled:!0},model:{value:e.form.rateType,callback:function(t){e.$set(e.form,"rateType",t)},expression:"form.rateType"}},e._l(e.selectTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dicName,value:e.dicCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"费率",prop:"rate"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入费率"},model:{value:e.form.rate,callback:function(t){e.$set(e.form,"rate",t)},expression:"form.rate"}})],1),e._v(" "),e.storeInfo.agentMerchantName?a("el-form-item",{attrs:{label:"代理商费率"}},[a("el-input",{attrs:{type:"number",disabled:!0},model:{value:e.form.merchantAgentRate,callback:function(t){e.$set(e.form,"merchantAgentRate",t)},expression:"form.merchantAgentRate"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"有效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"INVALID"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.formSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("产品列表")])])}]},ze=a("vSla")(Ue,Oe,!1,null,null,null).exports,Me={getList:function(e){return D("/sys/application/pageList","POST",e)},updateApp:function(e){return D("/admin/permission/function/update","POST",e)},getInterfaceList:function(e){return D("/sys/application/interface/pageList","POST",e)},addInterfaceList:function(e){return D("/sys/application/interface/add","POST",e)},updateInterfaceList:function(e){return D("/sys/application/interface/update","POST",e)},getCanUseInterfaceList:function(e){return D("/sys/application/uninterface","POST",e)},getOpenAppList:function(e){return D("/sys/open/interface/pageList","POST",e)},addOpenAppList:function(e){return D("/sys/open/interface/add","POST",e)},updateOpenAppList:function(e,t){return D("/sys/open/interface/update/"+e,"POST",t)}},Ve={mixins:[T,N,$],data:function(){return{searchForm:{appId:"",merchantId:"",status:""},updateRules:{md5Key:[{required:!0,message:"请输入md5密钥",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]}}},created:function(){this._renderTableDate()},methods:{_renderTableDate:function(e){var t=this;t.loading=!0,Me.getList(e).then(function(e){t.renderTableDate(e,function(e,t){return{no:t+1,id:e.id,appId:e.appId,merchantId:e.merchantId,md5Key:e.md5Key,status:"VALID"===e.status?"生效":"失效",createTime:e.createTime,updateTime:e.modifiedTime,operate:{update:!0}}})})},searchSubmit:function(e){this._renderTableDate(this.searchForm)},handelInterface:function(e){this.$router.push({path:"/interface_list",query:{merchantId:e.merchantId,appId:e.appId}})},handleForm:function(e){this.updateShow=!0,this.updateForm={id:e.id,appId:e.appId,merchantId:e.merchantId,md5Key:e.md5Key,status:"生效"===e.status?"VALID":"INVALID"}},updateSubmit:function(){var e=this;Me.updateApp(this.updateForm.id,this.updateForm).then(function(t){e.filterAxios(t,function(t){e.successTips("修改成功"),e.updateClose(),e._renderTableDate()})})}}},Ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"operating"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,size:"mini"}},[a("el-form-item",{attrs:{label:"应用ID",prop:"appId"}},[a("el-input",{model:{value:e.searchForm.appId,callback:function(t){e.$set(e.searchForm,"appId",t)},expression:"searchForm.appId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户号",prop:"merchantId"}},[a("el-input",{model:{value:e.searchForm.merchantId,callback:function(t){e.$set(e.searchForm,"merchantId",t)},expression:"searchForm.merchantId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[a("el-option",{attrs:{label:"正常",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"失效",value:"INVALID"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",width:"100",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"appId",label:"应用ID",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantId",label:"商户号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"md5Key",label:"md5密钥",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",width:"180",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleForm(t.row)}}},[e._v("修改")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){e.handelInterface(t.row)}}},[e._v("接口列表")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.updateShow,expression:"updateShow"}],attrs:{visible:e.updateShow,title:"修改",width:"30%","before-close":e.updateClose,center:""},on:{"update:visible":function(t){e.updateShow=t}}},[a("div",[a("el-form",{ref:"updateForm",attrs:{model:e.updateForm,rules:e.updateRules,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"应用id"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.updateForm.appId,callback:function(t){e.$set(e.updateForm,"appId",t)},expression:"updateForm.appId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.updateForm.merchantId,callback:function(t){e.$set(e.updateForm,"merchantId",t)},expression:"updateForm.merchantId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"md5密钥",prop:"md5Key"}},[a("el-input",{attrs:{placeholder:"请输入md5密钥"},model:{value:e.updateForm.md5Key,callback:function(t){e.$set(e.updateForm,"md5Key",t)},expression:"updateForm.md5Key"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.updateForm.status,callback:function(t){e.$set(e.updateForm,"status",t)},expression:"updateForm.status"}},[a("el-option",{attrs:{label:"有效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"INVALID"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.updateShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.updateSubmit()}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("应用列表")])])}]},Qe=a("vSla")(Ve,Ke,!1,null,null,null).exports,Je={mixins:[T,N,$],data:function(){return{searchForm:{interfaceName:"",status:""},rules:{interfaceName:[{required:!0,message:"请输入接口名称",trigger:"blur"}],interfaceVersion:[{required:!0,message:"请输入版本号",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},form:{formTitle:"添加"},roleList:[]}},created:function(){this._renderTableDate()},methods:{_renderTableDate:function(e){var t=this;t.loading=!0,Me.getOpenAppList(e).then(function(e){t.renderTableDate(e,function(e,t){return{no:t+1,interfaceId:e.interfaceId,interfaceName:e.interfaceName,interfaceVersion:e.interfaceVersion,status:"VALID"===e.status?"生效":"失效",createTime:e.createTime,updateTime:e.modifiedTime,operate:{update:!0}}})})},searchSubmit:function(e){this._renderTableDate(this.searchForm)},handleForm:function(e){e instanceof Object?this.form={formTitle:"修改",interfaceId:e.interfaceId,interfaceName:e.interfaceName,interfaceVersion:e.interfaceVersion,status:"生效"===e.status?"VALID":"INVALID"}:this.form={formTitle:"添加",interfaceName:"",interfaceVersion:"",status:"VALID"},this.addShow=!0},formSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;"添加"===e.form.formTitle?(delete e.form.formTitle,Me.addOpenAppList(e.form).then(function(t){e.formatResult(t,"添加成功")})):(delete e.form.formTitle,Me.updateOpenAppList(e.form.interfaceId,e.form).then(function(t){e.formatResult(t,"修改成功")}))})},formClose:function(){this.addShow=!1,this.form={},this.$refs.form&&this.$refs.form.resetFields()},formatResult:function(e,t){var a=this;a.formClose(),a.filterAxios(e,function(e){a.successTips(t),a._renderTableDate()})}}},Ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"operating"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,size:"mini"}},[a("el-form-item",{attrs:{label:"接口名称"}},[a("el-input",{model:{value:e.searchForm.interfaceName,callback:function(t){e.$set(e.searchForm,"interfaceName",t)},expression:"searchForm.interfaceName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[a("el-option",{attrs:{label:"正常",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"失效",value:"INVALID"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"table-btn"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.handleForm("add")}}},[e._v("添加")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"interfaceName",label:"接口名称",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"interfaceVersion",label:"接口版本号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",width:"180",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleForm(t.row)}}},[e._v("修改")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addShow,expression:"addShow"}],attrs:{visible:e.addShow,title:e.form.formTitle,width:"30%","before-close":e.addClose,center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"接口名称",prop:"interfaceName"}},[a("el-input",{model:{value:e.form.interfaceName,callback:function(t){e.$set(e.form,"interfaceName",t)},expression:"form.interfaceName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"版本号",prop:"interfaceVersion"}},[a("el-input",{model:{value:e.form.interfaceVersion,callback:function(t){e.$set(e.form,"interfaceVersion",t)},expression:"form.interfaceVersion"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"有效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"INVALID"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.formSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("开放平台接口列表")])])}]},He=a("vSla")(Je,Ge,!1,null,null,null).exports,Ze={mixins:[T,N,$],data:function(){return{searchForm:{},form:{},interfaceList:[]}},created:function(){var e=this.$route.query;this.searchForm=d()({},this.searchForm,{appId:e.appId}),this.appId=e.appId,this.merchantId=e.merchantId,this._renderTableDate(this.searchForm)},methods:{_renderTableDate:function(e){var t=this;this.loading=!0,Me.getInterfaceList(e).then(function(e){t.renderTableDate(e,function(e,t){return{no:t+1,interfaceId:e.interfaceId,interfaceName:e.interfaceName,interfaceVersion:e.interfaceVersion,status:"VALID"===e.status?"生效":"失效",createTime:e.createTime,updateTime:e.modifiedTime,operate:{add:!0,update:!0}}})})},handleForm:function(e){this.getInterfaceList(),e instanceof Object?(console.log(e.interfaceId),this.form={formTitle:"修改",appId:this.appId,merchantId:this.merchantId,interfaceId:e.interfaceId,interfaceName:e.interfaceName,interfaceVersion:e.interfaceVersion,status:"生效"===e.status?"VALID":"INVALID"}):this.form={formTitle:"添加",appId:this.appId,merchantId:this.merchantId},this.addShow=!0},formSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;"添加"===e.form.formTitle?(delete e.form.formTitle,Me.addInterfaceList(e.form).then(function(t){e.formatResult(t,"添加成功")})):(delete e.form.formTitle,Me.updateInterfaceList(e.form).then(function(t){e.formatResult(t,"修改成功")}))})},formClose:function(){this.addShow=!1,this.interfaceList=[],this.form={},this.$refs.form&&this.$refs.form.resetFields()},formatResult:function(e,t){var a=this;this.formClose(),this.filterAxios(e,function(e){a.successTips(t),a._renderTableDate(a.searchForm)})},getInterfaceList:function(){var e=this;Me.getCanUseInterfaceList({appId:this.appId}).then(function(t){e.filterAxios(t,function(t){e.interfaceList=t.list})})}}},Xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"table-btn"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.handleForm("add")}}},[e._v("添加")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",width:"100",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"interfaceName",label:"接口名称",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"interfaceVersion",label:"接口版本号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",width:"100",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleForm(t.row)}}},[e._v("修改")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addShow,expression:"addShow"}],attrs:{visible:e.addShow,title:e.form.formTitle,width:"30%","before-close":e.addClose,center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",[a("el-form",{ref:"form",attrs:{model:e.form,size:"small","label-width":"105px"}},[a("el-form-item",{attrs:{label:"商户号"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.merchantId,callback:function(t){e.$set(e.form,"merchantId",t)},expression:"form.merchantId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"APPID"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.appId,callback:function(t){e.$set(e.form,"appId",t)},expression:"form.appId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"接口名称"}},["添加"===e.form.formTitle?[a("el-select",{attrs:{placeholder:"请选择接口"},model:{value:e.form.interfaceId,callback:function(t){e.$set(e.form,"interfaceId",t)},expression:"form.interfaceId"}},e._l(e.interfaceList,function(e,t){return a("el-option",{key:t,attrs:{label:e.interfaceName+"-"+e.interfaceVersion,value:e.interfaceId}})}))]:"修改"===e.form.formTitle?[a("el-input",{attrs:{disabled:!0},model:{value:e.form.interfaceName,callback:function(t){e.$set(e.form,"interfaceName",t)},expression:"form.interfaceName"}})]:e._e()],2),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"有效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"INVALID"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.formSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("接口列表")])])}]},Ye=a("vSla")(Ze,Xe,!1,null,null,null).exports,We={getChannelList:function(e){return D("/business/route/channel/pageList","POST",e)},getChannelDetail:function(e){return D("/business/route/channel/"+e)},addChannel:function(e){return D("/business/route/channel/add","POST",e)},updateChannel:function(e,t){return D("/business/route/channel/update/"+e,"POST",t)},getSupportBankList:function(e){return D("/business/route/channel/supportBank/pageList","POST",e)},addSupportBankList:function(e){return D("/business/route/channel/supportBank/add","POST",e)},updateSupportBankList:function(e,t){return D("/business/route/channel/supportBank/update/"+e,"POST",t)},getStoreChannelList:function(e){return D("/business/route/merchant/channel/pageList","POST",e)},validMerchantId:function(e){return D("/business/route/merchant/name/"+e)},addStoreChannelList:function(e){return D("/business/route/merchant/channel/add","POST",e)},updateStoreChannelList:function(e,t){return D("/business/route/channel/update/"+e,"POST",t)},cardBinList:function(e){return D("/business/route/cardBin/pageList","POST",e)},getBankList:function(e){return D("/business/route/bank/pageList","POST",e)}},je={mixins:[T,N],data:function(){return{searchForm:{},searchRules:{},form:{},rules:{channelCode:[{required:!0,message:"请输入渠道编码",trigger:"blur"}],channelName:[{required:!0,message:"请输入渠道名称",trigger:"blur"}],channelType:[{required:!0,message:"请选择渠道类型",trigger:"blur"}],productCode:[{required:!0,message:"请选择产品类型",trigger:"blur"}],gatewayGroup:[{required:!0,message:"请输入网关分组",trigger:"blur"}],channelMerId:[{required:!0,message:"请输入渠道商户号",trigger:"blur"}],signType:[{required:!0,message:"请选择签名方式",trigger:"blur"}],certPath:[{required:!0,message:"请输入证书路径",trigger:"blur"}],secretKey:[{required:!0,message:"请输入密钥",trigger:"blur"}],channelPubKey:[{required:!0,message:"请输入渠道公钥",trigger:"blur"}],pubKey:[{required:!0,message:"请输入转折公钥",trigger:"blur"}],prvKey:[{required:!0,message:"请输入转折私钥",trigger:"blur"}],channelAppid:[{required:!0,message:"请输入appid",trigger:"blur"}],rate:[{required:!0,message:"请输入费率",trigger:"blur"}],sort:[{required:!0,message:"请输入渠道排序",trigger:"blur"}],status:[{required:!0,message:"请选择渠道状态",trigger:"blur"}]},productCodeList:{},channelTypeList:{}}},created:function(){this._renderTableDate(),this.getProductCodeList(),this.getChannelTypeList()},methods:{_renderTableDate:function(e){var t=this;t.loading=!0,We.getChannelList(e).then(function(e){t.renderTableDate(e,function(e,t){return{no:t+1,channelId:e.channelId,channelCode:e.channelCode,channelName:e.channelName,channelType:e.channelType,channelTypeDesc:e.channelTypeDesc,productCode:e.productCode,productTypeDesc:e.productTypeDesc,gatewayGroup:e.gatewayGroup,sort:e.sort,status:"VALID"===e.status?"生效":"失效",createTime:e.createTime,updateTime:e.modifiedTime,operate:{update:!0}}})})},getProductCodeList:function(){var e=this;he.getDictionaryList("PRODUCT_CODE").then(function(t){e.filterAxios(t,function(t){e.productCodeList=t})})},getChannelTypeList:function(){var e=this;he.getDictionaryList("CHANNEL_TYPE").then(function(t){e.filterAxios(t,function(t){e.channelTypeList=t})})},searchSubmit:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;t._renderTableDate(t.$refs[e].model)})},handleForm:function(e,t){e instanceof Object?this.getChannelDetail(e.channelId,t):this.form={title:"添加"},this.addShow=!0},getChannelDetail:function(e,t){var a=this;We.getChannelDetail(e).then(function(e){a.filterAxios(e,function(e){a.form={channelCode:e.channelCode,channelName:e.channelName,channelType:e.channelType,productCode:e.productCode,gatewayGroup:e.gatewayGroup,channelMerId:e.channelMerId,signType:e.signType,certPath:e.certPath,secretKey:e.secretKey,channelPubKey:e.channelPubKey,pubKey:e.pubKey,prvKey:e.prvKey,channelAppid:e.channelAppid,rate:e.rate,sort:e.sort,status:e.status},"修改"===t?(a.form.title="修改",a.form.disabled=!1):"详情"===t&&(a.form.title="详情",a.form.disabled=!0)})})},formClose:function(){this.addShow=!1,this.form={},this.$refs.form&&this.$refs.form.resetFields()},formSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;delete e.form.disabled,"添加"===e.form.title?(delete e.form.title,We.addChannel(e.form).then(function(t){e.formatResult(t,"添加成功")})):(delete e.form.title,We.updateChannel(e.form).then(function(t){e.formatResult(t,"修改成功")}))})},formatResult:function(e,t){var a=this;a.formClose(),a.filterAxios(e,function(e){a.successTips(t),a._renderTableDate()})},handleSupportBankList:function(e,t){console.log("handleSupportBankList!",e),this.$router.push({path:"/channel_support_bank",query:{channelId:e,channelName:t}})}}},et={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"operating"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,rules:e.searchRules,size:"mini"}},[a("el-form-item",{attrs:{label:"渠道编码",prop:"channelCode"}},[a("el-input",{model:{value:e.searchForm.channelCode,callback:function(t){e.$set(e.searchForm,"channelCode",t)},expression:"searchForm.channelCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道名称",prop:"channelName"}},[a("el-input",{model:{value:e.searchForm.channelName,callback:function(t){e.$set(e.searchForm,"channelName",t)},expression:"searchForm.channelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品类型",prop:"productCode"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchForm.productCode,callback:function(t){e.$set(e.searchForm,"productCode",t)},expression:"searchForm.productCode"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.productCodeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dicName,value:e.dicCode}})})],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"table-btn"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.handleForm()}}},[e._v("添加渠道")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelCode",label:"渠道编码",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelName",label:"渠道名称",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelTypeDesc",label:"渠道类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productTypeDesc",label:"产品类型",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"gatewayGroup",label:"网关组"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"sort",label:"排序"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"300",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleForm(t.row,"详情")}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleSupportBankList(t.row.channelId,t.row.channelName)}}},[e._v("查看支持银行列表")]),e._v(" "),t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleForm(t.row,"修改")}}},[e._v("修改")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addShow,expression:"addShow"}],attrs:{visible:e.addShow,title:e.form.title,width:"54%","before-close":e.formClose,center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",{staticClass:"detail-input"},[a("el-form",{ref:"form",attrs:{inline:!0,model:e.form,rules:"修改"===this.form.title?e.rules:{},size:"small","label-width":"110px"}},[a("div",[a("el-form-item",{attrs:{label:"渠道编码",prop:"channelCode"}},[a("el-input",{attrs:{placeholder:"请输入渠道编码",disabled:e.form.disabled},model:{value:e.form.channelCode,callback:function(t){e.$set(e.form,"channelCode",t)},expression:"form.channelCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道名称",prop:"channelName"}},[a("el-input",{attrs:{placeholder:"请输入渠道名称",disabled:e.form.disabled},model:{value:e.form.channelName,callback:function(t){e.$set(e.form,"channelName",t)},expression:"form.channelName"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"渠道类型",prop:"channelType"}},[a("el-select",{attrs:{placeholder:"请选择类型",disabled:e.form.disabled},model:{value:e.form.channelType,callback:function(t){e.$set(e.form,"channelType",t)},expression:"form.channelType"}},e._l(e.channelTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dicName,value:e.dicCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"产品类型",prop:"productCode"}},[a("el-select",{attrs:{placeholder:"请选择类型",disabled:e.form.disabled},model:{value:e.form.productCode,callback:function(t){e.$set(e.form,"productCode",t)},expression:"form.productCode"}},e._l(e.productCodeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dicName,value:e.dicCode}})}))],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"网关分组",prop:"gatewayGroup"}},[a("el-input",{attrs:{placeholder:"请输入网关分组",disabled:e.form.disabled},model:{value:e.form.gatewayGroup,callback:function(t){e.$set(e.form,"gatewayGroup",t)},expression:"form.gatewayGroup"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道商户号",prop:"channelMerId"}},[a("el-input",{attrs:{placeholder:"请输入渠道商户号",disabled:e.form.disabled},model:{value:e.form.channelMerId,callback:function(t){e.$set(e.form,"channelMerId",t)},expression:"form.channelMerId"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"签名方式",prop:"signType"}},[a("el-select",{attrs:{placeholder:"请选择签名方式",disabled:e.form.disabled},model:{value:e.form.signType,callback:function(t){e.$set(e.form,"signType",t)},expression:"form.signType"}},[a("el-option",{attrs:{label:"RSA",value:"RSA"}}),e._v(" "),a("el-option",{attrs:{label:"MD5",value:"MD5"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"证书路径",prop:"certPath"}},[a("el-input",{attrs:{placeholder:"请输入证书路径",disabled:e.form.disabled},model:{value:e.form.certPath,callback:function(t){e.$set(e.form,"certPath",t)},expression:"form.certPath"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"密钥",prop:"secretKey"}},[a("el-input",{attrs:{placeholder:"请输入密钥",disabled:e.form.disabled},model:{value:e.form.secretKey,callback:function(t){e.$set(e.form,"secretKey",t)},expression:"form.secretKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道公钥",prop:"channelPubKey"}},[a("el-input",{attrs:{placeholder:"请输入渠道公钥",disabled:e.form.disabled},model:{value:e.form.channelPubKey,callback:function(t){e.$set(e.form,"channelPubKey",t)},expression:"form.channelPubKey"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"转折公钥",prop:"pubKey"}},[a("el-input",{attrs:{placeholder:"请输入转折公钥",disabled:e.form.disabled},model:{value:e.form.pubKey,callback:function(t){e.$set(e.form,"pubKey",t)},expression:"form.pubKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"转折私钥",prop:"prvKey"}},[a("el-input",{attrs:{placeholder:"请输入转折私钥",disabled:e.form.disabled},model:{value:e.form.prvKey,callback:function(t){e.$set(e.form,"prvKey",t)},expression:"form.prvKey"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"appid",prop:"channelAppid"}},[a("el-input",{attrs:{placeholder:"请输入appid",disabled:e.form.disabled},model:{value:e.form.channelAppid,callback:function(t){e.$set(e.form,"channelAppid",t)},expression:"form.channelAppid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"费率",prop:"rate"}},[a("el-input",{attrs:{placeholder:"请输入费率",disabled:e.form.disabled},model:{value:e.form.rate,callback:function(t){e.$set(e.form,"rate",t)},expression:"form.rate"}})],1)],1),e._v(" "),a("div",[a("el-form-item",{attrs:{label:"渠道排序"}},[a("el-input",{attrs:{placeholder:"请输入渠道排序",disabled:e.form.disabled},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择状态",disabled:e.form.disabled},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"生效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"INVALID"}})],1)],1)],1)])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.formClose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.formSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("渠道列表")])])}]},tt=a("vSla")(je,et,!1,null,null,null).exports,at={mixins:[T,N],data:function(){return{searchForm:{bankCode:"",bankName:""},form:{},bankList:[],cardType:[],rules:{bankCode:[{required:!1,message:"请输入银行编码",trigger:"blur"}],bankName:[{required:!1,message:"请输入银行名称(支持模糊查询)",trigger:"blur"}]}}},created:function(){this.searchForm.channelId=this.$route.query.channelId,this.searchForm.channelName=this.$route.query.channelName,this._renderTableDate({channelId:this.searchForm.channelId})},methods:{_renderTableDate:function(e){var t=this;t.loading=!0,We.getSupportBankList(e).then(function(e){t.renderTableDate(e,function(e,t){return{no:t+1,id:e.id,channelId:e.channelId,channelCode:e.channelCode,channelName:e.channelName,bankListId:e.bankListId,bankCode:e.bankCode,bankName:e.bankName,bankShortName:e.bankShortName,bankShortNameEn:e.bankShortNameEn,supportiveBankType:e.supportiveBankType,supportBankTypeDesc:e.supportBankTypeDesc,bankBranchId:e.bankBranchId,singleMinAmount:e.singleMinAmount,singleMaxAmount:e.singleMaxAmount,status:"VALID"===e.status?"生效":"失效",createTime:Ae(e.createTime),updateTime:Ae(e.modifiedTime),operate:{update:!0}}})})},getCardType:function(){var e=this;he.getDictionaryList("CARD_TYPE").then(function(t){e.filterAxios(t,function(t){e.cardType=t.cardType})})},getBinkList:function(){var e=this;We.getBankList().then(function(t){e.filterAxios(t,function(t){e.bankList=t.list,console.log("bankList",e.bankList)})})},searchSubmit:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;t._renderTableDate(t.$refs[e].model)})},handleForm:function(e){this.cardType.length||this.getCardType(),this.bankList.length||this.getBinkList(),e instanceof Object?this.form={title:"修改",id:e.id,channelId:e.channelId,channelName:e.channelName,bankListId:e.bankListId,singleMinAmount:e.singleMinAmount,singleMaxAmount:e.singleMaxAmount,supportiveBankType:e.supportiveBankType,status:"生效"===e.status?"VALID":"INVALID"}:this.form={title:"添加",channelId:this.searchForm.channelId,channelName:this.searchForm.channelName},this.addShow=!0},formClose:function(){this.addShow=!1,this.form={},this.$refs.form&&this.$refs.form.resetFields()},formSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;delete e.form.disabled,delete e.form.channelName,"添加"===e.form.title?(delete e.form.title,We.addSupportBankList(e.form).then(function(t){e.formatResult(t,"添加成功")})):(delete e.form.title,delete e.form.channelId,We.updateSupportBankList(e.form).then(function(t){e.formatResult(t,"修改成功")}))})},formatResult:function(e,t){var a=this,r=this;r.formClose(),r.filterAxios(e,function(e){r.successTips(t),a._renderTableDate({channelId:r.searchForm.channelId})})}}},rt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"operating"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,rules:e.rules,size:"mini"}},[a("el-form-item",{attrs:{label:"银行编码",prop:"bankCode"}},[a("el-input",{attrs:{placeholder:"请输入银行编码"},model:{value:e.searchForm.bankCode,callback:function(t){e.$set(e.searchForm,"bankCode",t)},expression:"searchForm.bankCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行名称",prop:"bankName"}},[a("el-input",{attrs:{placeholder:"请输入银行名称(支持模糊查询)"},model:{value:e.searchForm.bankName,callback:function(t){e.$set(e.searchForm,"bankName",t)},expression:"searchForm.bankName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"table-btn"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.handleForm()}}},[e._v("添加")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelCode",label:"渠道编码",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelName",label:"渠道名称",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankCode",label:"银行编码",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankName",label:"银行名称",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankShortName",label:"简称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankShortNameEn",label:"英文简称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"supportBankTypeDesc",label:"支持银行卡类型",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankBranchId",label:"联行号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"singleMinAmount",label:"单笔最低金额",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"singleMaxAmount",label:"单笔最高金额",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleForm(t.row)}}},[e._v("修改")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addShow,expression:"addShow"}],attrs:{visible:e.addShow,title:e.form.title,width:"30%","before-close":e.formClose,center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",[a("el-form",{ref:"form",attrs:{model:e.form,size:"small","label-width":"110px"}},[a("el-form-item",{attrs:{label:"渠道编码"}},[a("el-input",{attrs:{placeholder:"请输入渠道编码",disabled:!0},model:{value:e.form.channelId,callback:function(t){e.$set(e.form,"channelId",t)},expression:"form.channelId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道名称"}},[a("el-input",{attrs:{placeholder:"请输入渠道名称",disabled:!0},model:{value:e.form.channelName,callback:function(t){e.$set(e.form,"channelName",t)},expression:"form.channelName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行"}},[a("el-select",{attrs:{placeholder:"请选择银行"},model:{value:e.form.bankListId,callback:function(t){e.$set(e.form,"bankListId",t)},expression:"form.bankListId"}},e._l(e.bankList,function(e,t){return a("el-option",{key:t,attrs:{label:e.bankName,value:e.bankListId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"单笔最低限额"}},[a("el-input",{attrs:{placeholder:"请输入单笔最低限额"},model:{value:e.form.singleMinAmount,callback:function(t){e.$set(e.form,"singleMinAmount",t)},expression:"form.singleMinAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单笔最高限额"}},[a("el-input",{attrs:{placeholder:"请输入单笔最高限额"},model:{value:e.form.singleMaxAmount,callback:function(t){e.$set(e.form,"singleMaxAmount",t)},expression:"form.singleMaxAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支持银行卡类型"}},[a("el-select",{attrs:{placeholder:"请选择银行卡类型"},model:{value:e.form.supportiveBankType,callback:function(t){e.$set(e.form,"supportiveBankType",t)},expression:"form.supportiveBankType"}},e._l(e.cardType,function(e,t){return a("el-option",{key:t,attrs:{label:e.dicName,value:e.dicCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"生效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"INVALID"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.formClose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.formSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("渠道支持银行列表")])])}]},lt=a("vSla")(at,rt,!1,null,null,null).exports,nt={mixins:[T,N],data:function(){var e=this;return{searchForm:{},form:{},channelList:[],rules:{merchantId:[{required:!0,message:"请输入商户号",trigger:"blur"},{validator:function(t,a,r){We.validMerchantId(a).then(function(t){e.filterAxios(t,function(t){e.form=d()({},e.form,{merchantName:t.merchantName}),console.log("_this.form",e.form),r()},function(e){r(new Error(e))})})},trigger:"blur"}],channelCode:[{required:!0,message:"请选择渠道",trigger:"blur"}],merSingleMinAmount:[{required:!0,message:"请输入商户最小限额",trigger:"blur"},{validator:function(t,a,r){a<0?r(new Error("最小限额必须大于0")):""!==e.form.merSingleMaxAmount&&e.$refs.form.validateField("merSingleMaxAmount"),r()},trigger:"blur"}],merSingleMaxAmount:[{required:!0,message:"请输入商户最大限额",trigger:"blur"},{validator:function(t,a,r){a<=e.form.merSingleMinAmount?r(new Error("最大限额必须大于最小限额")):a>999999999999?r(new Error("最大限额不得大于999999999999")):r()},trigger:"blur"}],validTimeList:[{required:!0,message:"请选择生效时间",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},created:function(){this._renderTableDate()},methods:{_renderTableDate:function(e){var t=this;this.loading=!0,We.getStoreChannelList(e).then(function(e){t.renderTableDate(e,function(e,t){return{no:t+1,merchantChannelId:e.merchantChannelId,channelId:e.channelId,channelCode:e.channelCode,channelName:e.channelName,merchantId:e.merchantId,merchantName:e.merchantName,merSingleMinAmount:e.merSingleMinAmount,merSingleMaxAmount:e.merSingleMaxAmount,merDayMaxAmount:e.merDayMaxAmount,productCode:e.productCode,productTypeDesc:e.productTypeDesc,status:"VALID"===e.status?"生效":"失效",validTimeList:[De(e.validTime),De(e.invalidTime)],validTime:e.validTime,invalidTime:e.invalidTime,createTime:e.createTime,updateTime:e.modifiedTime,operate:{update:!0}}})})},getChannelList:function(){var e=this;We.getChannelList().then(function(t){e.filterAxios(t,function(t){e.channelList=t.list})})},searchSubmit:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;t._renderTableDate(t.$refs[e].model)})},handleForm:function(e){this.channelList.length||this.getChannelList(),e instanceof Object?(console.log("channelId",e),this.form={title:"修改",disabled:!0,merchantChannelId:e.merchantChannelId,merchantId:e.merchantId,merchantName:e.merchantName,channelId:e.channelId,channelCode:e.channelCode,merSingleMinAmount:e.merSingleMinAmount,merSingleMaxAmount:e.merSingleMaxAmount,validTimeList:e.validTimeList,status:"生效"===e.status?"VALID":"INVALID"}):this.form={title:"添加",disabled:!1},this.addShow=!0},formClose:function(){this.addShow=!1,this.form={},this.$refs.form&&this.$refs.form.resetFields()},formSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;delete e.form.disabled,delete e.form.merchantName,e.form.validTime=Ae(e.form.validTimeList[0]),e.form.invalidTime=Ae(e.form.validTimeList[1]),delete e.form.validTimeList,"添加"===e.form.title?(delete e.form.title,We.addStoreChannelList(e.form).then(function(t){e.formatResult(t,"添加成功")})):(delete e.form.title,delete e.form.merchantId,We.updateStoreChannelList(e.form.merchantChannelId,e.form).then(function(t){e.formatResult(t,"修改成功")}))})},formatResult:function(e,t){var a=this;this.formClose(),this.filterAxios(e,function(e){a.successTips(t),a._renderTableDate({channelId:a.channelId})})}}},ot={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"operating"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,size:"mini"}},[a("el-form-item",{attrs:{label:"商户号",prop:"merchantId"}},[a("el-input",{attrs:{placeholder:"请输入商户号"},model:{value:e.searchForm.merchantId,callback:function(t){e.$set(e.searchForm,"merchantId",t)},expression:"searchForm.merchantId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名称",prop:"merchantName"}},[a("el-input",{attrs:{placeholder:"请输入商户名称"},model:{value:e.searchForm.merchantName,callback:function(t){e.$set(e.searchForm,"merchantName",t)},expression:"searchForm.merchantName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道名称",prop:"channelName"}},[a("el-input",{attrs:{placeholder:"请输入渠道名称"},model:{value:e.searchForm.channelName,callback:function(t){e.$set(e.searchForm,"channelName",t)},expression:"searchForm.channelName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"table-btn"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.handleForm()}}},[e._v("添加")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantId",label:"商户号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merchantName",label:"商户名称",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelCode",label:"渠道编码"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"channelName",label:"渠道名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"productTypeDesc",label:"产品类型",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merSingleMinAmount",label:"商户最小限额",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"merSingleMaxAmount",label:"商户最大限额",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"validTime",label:"生效时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"invalidTime",label:"失效时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"status",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleForm(t.row)}}},[e._v("修改")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addShow,expression:"addShow"}],attrs:{visible:e.addShow,title:e.form.title,width:"40%","before-close":e.formClose,center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"110px"}},[a("el-form-item",{attrs:{label:"商户号",prop:"merchantId"}},[a("el-input",{attrs:{placeholder:"请输入商户号",disabled:e.form.disabled},model:{value:e.form.merchantId,callback:function(t){e.$set(e.form,"merchantId",t)},expression:"form.merchantId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户名称",prop:"merchantName"}},[a("el-input",{attrs:{placeholder:"请输入商户名称",disabled:!0},model:{value:e.form.merchantName,callback:function(t){e.$set(e.form,"merchantName",t)},expression:"form.merchantName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道",prop:"channelCode"}},[a("el-select",{attrs:{placeholder:"请选择渠道"},model:{value:e.form.channelCode,callback:function(t){e.$set(e.form,"channelCode",t)},expression:"form.channelCode"}},e._l(e.channelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.channelName,value:e.channelCode}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"商户最小限额",prop:"merSingleMinAmount"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入商户最小限额"},model:{value:e.form.merSingleMinAmount,callback:function(t){e.$set(e.form,"merSingleMinAmount",t)},expression:"form.merSingleMinAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商户最大限额",prop:"merSingleMaxAmount"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入商户最大限额"},model:{value:e.form.merSingleMaxAmount,callback:function(t){e.$set(e.form,"merSingleMaxAmount",t)},expression:"form.merSingleMaxAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生效时间",prop:"validTimeList"}},[a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"-",clearable:!1,"value-format":"timestamp","start-placeholder":"请选择生效时间","end-placeholder":"请选择失效时间"},model:{value:e.form.validTimeList,callback:function(t){e.$set(e.form,"validTimeList",t)},expression:"form.validTimeList"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"生效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"INVALID"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.formClose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.formSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("商户渠道列表")])])}]},st=a("vSla")(nt,ot,!1,null,null,null).exports,it={mixins:[T,N],data:function(){return{searchForm:{},cardType:["","借记卡","贷记卡","贷记卡","预付卡"]}},created:function(){this._renderTableDate()},methods:{_renderTableDate:function(e){var t=this;t.loading=!0,We.cardBinList(e).then(function(e){t.renderTableDate(e,function(e,a){return{no:a+1,cardBin:e.cardBin,bankCode:e.bankCode,bankName:e.bankName,cardName:e.cardName,cardType:t.cardType[e.cardType],cardLength:e.cardLength,binLength:e.binLength}})})},searchSubmit:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;t._renderTableDate(t.$refs[e].model)})}}},ct={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"operating"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,size:"mini"}},[a("el-form-item",{attrs:{label:"银行卡号"}},[a("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:e.searchForm.bankCardNo,callback:function(t){e.$set(e.searchForm,"bankCardNo",t)},expression:"searchForm.bankCardNo"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"cardBin",label:"卡bin",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankCode",label:"银行编码",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankName",label:"银行名称",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"cardName",label:"银行卡名称",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"cardType",label:"银行卡类型"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"cardLength",label:"卡长度"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"binLength",label:"卡bin长度"}})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("卡bin管理")])])}]},dt=a("vSla")(it,ct,!1,null,null,null).exports,mt={mixins:[T,N],data:function(){var e=this;return{searchForm:{},form:{},channelList:[],rules:{merchantId:[{required:!0,message:"请输入商户号",trigger:"blur"},{validator:function(t,a,r){We.validMerchantId({merchantId:a}).then(function(t){e.filterAxios(t,function(t){e.form=d()({},e.form,{merchantName:t.merchantName}),console.log("_this.form",e.form),r()},function(e){r(new Error(e))})})},trigger:"blur"}],channelId:[{required:!0,message:"请选择渠道",trigger:"blur"}],merSingleMinAmount:[{required:!0,message:"请输入商户最小限额",trigger:"blur"},{validator:function(t,a,r){a<0?r(new Error("最小限额必须大于0")):""!==e.form.merSingleMaxAmount&&e.$refs.form.validateField("merSingleMaxAmount"),r()},trigger:"blur"}],merSingleMaxAmount:[{required:!0,message:"请输入商户最大限额",trigger:"blur"},{validator:function(t,a,r){a<=e.form.merSingleMinAmount?r(new Error("最大限额必须大于最小限额")):a>999999999999?r(new Error("最大限额不得大于999999999999")):r()},trigger:"blur"}],validTimeList:[{required:!0,message:"请选择生效时间",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},imageUrl:""}},created:function(){this._renderTableDate()},methods:{_renderTableDate:function(e){var t=this;t.loading=!0,We.getBankList(e).then(function(e){t.renderTableDate(e,function(e,t){return{no:t+1,bankListId:e.bankListId,bankCode:e.bankCode,bankName:e.bankName,bankShortName:e.bankShortName,bankShortNameEn:e.bankShortNameEn,bankBranchId:e.bankBranchId,bankPictureUrlBig:e.bankPictureUrlBig,bankPictureUrlSmall:e.bankPictureUrlSmall,status:"VALID"===e.status?"生效":"失效",createTime:e.createTime,updateTime:e.modifiedTime,operate:{update:!0}}})})},getChannelList:function(){var e=this;We.getChannelList().then(function(t){e.filterAxios(t,function(t){e.channelList=t.list})})},searchSubmit:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;t._renderTableDate(t.$refs[e].model)})},handleForm:function(e){this.channelList.length||this.getChannelList(),e instanceof Object?(console.log("channelId",e),this.form={title:"修改",disabled:!0,merchantChannelId:e.merchantChannelId,merchantId:e.merchantId,merchantName:e.merchantName,channelId:e.channelId,merSingleMinAmount:e.merSingleMinAmount,merSingleMaxAmount:e.merSingleMaxAmount,validTimeList:e.validTimeList,status:"生效"===e.status?"VALID":"INVALID"}):this.form={title:"添加",disabled:!1},this.addShow=!0},formClose:function(){this.addShow=!1,this.form={},this.$refs.form&&this.$refs.form.resetFields()},formSubmit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1;delete e.form.disabled,delete e.form.merchantName,e.form.validTime=e.form.validTimeList[0],e.form.invalidTime=e.form.validTimeList[1],delete e.form.validTimeList,"添加"===e.form.title?(delete e.form.title,We.addStoreChannelList(e.form).then(function(t){e.formatResult(t,"添加成功")})):(delete e.form.title,delete e.form.merchantId,We.updateStoreChannelList(e.form).then(function(t){e.formatResult(t,"修改成功")}))})},formatResult:function(e,t){var a=this,r=this;r.formClose(),r.filterAxios(e,function(e){r.successTips(t),a._renderTableDate({channelId:r.channelId})})}}},ut={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),e._v(" "),a("div",{staticClass:"operating"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.searchForm,size:"mini"}},[a("el-form-item",{attrs:{label:"银行编码",prop:"bankCode"}},[a("el-input",{attrs:{placeholder:"请输入银行编码"},model:{value:e.searchForm.bankCode,callback:function(t){e.$set(e.searchForm,"bankCode",t)},expression:"searchForm.bankCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行名称",prop:"bankName"}},[a("el-input",{attrs:{placeholder:"请输入银行名称"},model:{value:e.searchForm.bankName,callback:function(t){e.$set(e.searchForm,"bankName",t)},expression:"searchForm.bankName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchSubmit("searchForm")}}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"table-btn"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.handleForm()}}},[e._v("添加")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:"","header-cell-class-name":"table-th"}},[a("el-table-column",{attrs:{align:"center",prop:"no",label:"序号",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankCode",label:"银行编码",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankName",label:"银行名称",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankShortName",label:"简称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankShortNameEn",label:"英文简称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankBranchId",label:"联行号",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"operate",label:"操作",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.operate.update?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){e.handleForm(t.row)}}},[e._v("修改")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[e.page.totalPages>1?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.page.page,"page-size":e.page.rows,total:e.page.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),a("el-dialog",{directives:[{name:"show",rawName:"v-show",value:e.addShow,expression:"addShow"}],attrs:{visible:e.addShow,title:e.form.title,width:"40%","before-close":e.formClose,center:""},on:{"update:visible":function(t){e.addShow=t}}},[a("div",[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"110px"}},[a("el-form-item",{attrs:{label:"银行编码",prop:"bankCode"}},[a("el-input",{attrs:{placeholder:"请输入银行编码"},model:{value:e.form.bankCode,callback:function(t){e.$set(e.form,"bankCode",t)},expression:"form.bankCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"银行名称",prop:"bankName"}},[a("el-input",{attrs:{placeholder:"请输入银行名称"},model:{value:e.form.bankName,callback:function(t){e.$set(e.form,"bankName",t)},expression:"form.bankName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"简称",prop:"bankShortName"}},[a("el-input",{attrs:{placeholder:"请输入简称"},model:{value:e.form.bankShortName,callback:function(t){e.$set(e.form,"bankShortName",t)},expression:"form.bankShortName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"英文简称",prop:"bankShortNameEn"}},[a("el-input",{attrs:{placeholder:"请输入英文简称"},model:{value:e.form.bankShortNameEn,callback:function(t){e.$set(e.form,"bankShortNameEn",t)},expression:"form.bankShortNameEn"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联行号",prop:"bankBranchId"}},[a("el-input",{attrs:{placeholder:"请输入联行号"},model:{value:e.form.bankBranchId,callback:function(t){e.$set(e.form,"bankBranchId",t)},expression:"form.bankBranchId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图片地址大图",prop:"bankPictureUrlBig"}},[a("el-upload",{staticClass:"upload-uploader",attrs:{"show-file-list":!1,drag:"",accept:"image/*",action:"https://jsonplaceholder.typicode.com/posts/"}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("div",[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])])])],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"生效",value:"VALID"}}),e._v(" "),a("el-option",{attrs:{label:"无效",value:"INVALID"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.formClose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.formSubmit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header clearfix"},[t("h2",[this._v("银行列表")])])}]},pt=a("vSla")(mt,ut,!1,null,null,null).exports;n.default.use(i.a);var ht=[{path:"/",redirect:"/login"},{path:"/index",component:z,children:[{path:"/",component:G},{path:"/dashboard",component:G,meta:{title:"首页",requireAuth:!0}},{path:"/features_list",meta:{title:"功能列表",requireAuth:!0},component:Y},{path:"/user_rights",meta:{title:"用户权限",requireAuth:!0},component:ee},{path:"/user_list",meta:{title:"用户列表",requireAuth:!0},component:re},{path:"/role_list",meta:{title:"角色列表",requireAuth:!0},component:oe},{path:"/code_manage",meta:{title:"码值管理",requireAuth:!0},component:ce},{path:"/error_code_manage",component:ue},{path:"/trade_list",component:ge},{path:"/trade_suspicious",component:ke},{path:"/reconciliation",component:ye},{path:"/error_handling",component:$e},{path:"/reports",component:xe},{path:"/store_list",meta:{title:"商户列表",requireAuth:!0},component:Be},{path:"/product_list",meta:{title:"产品列表",requireAuth:!0},component:ze},{path:"/app_list",meta:{title:"应用列表",requireAuth:!0},component:Qe},{path:"/interface_list",meta:{title:"接口列表",requireAuth:!0},component:Ye},{path:"/open_app_list",meta:{title:"开放平台接口列表",requireAuth:!0},component:He},{path:"/channel_manage",component:tt,meta:{title:"渠道列表",requireAuth:!0}},{path:"/channel_support_bank",component:lt,meta:{title:"渠道支持银行列表",requireAuth:!0}},{path:"/store_channel_list",component:st,meta:{title:"商户渠道列表",requireAuth:!0}},{path:"/card_bin_list",component:dt,meta:{title:"卡bin管理",requireAuth:!0}},{path:"/bank_list",component:pt,meta:{title:"银行列表",requireAuth:!0}}]},{path:"/login",component:Q,meta:{title:"登录"}}],ft=new i.a({base:"/",routes:ht});n.default.config.productionTip=!1,n.default.use(l.a),ft.beforeEach(function(e,t,a){e.meta.title&&(document.title=e.meta.title+" - 转折支付平台管理系统"),e.meta.requireAuth?window.localStorage.getItem("token")?a():(console.log("to.fullPath",e.fullPath),a({path:"/login",query:{redirect:e.fullPath}})):a()}),new n.default({el:"#app",router:ft,template:"<App/>",components:{App:s}})},YNVA:function(e,t){},agZZ:function(e,t){},kgKs:function(e,t){},l4ih:function(e,t){},tEXN:function(e,t){},uxEr:function(e,t){},vVZ4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKkAAAChCAYAAAC8hp9CAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAkgSURBVHhe7d3NjhVFGMZx7oBr8AbkBkzYu3Fn3LHQlRs1cUtYmRhjgq4wMYqJssKEoBgDCwhgIooRJU4CYRYDGAeRT0cyGkiOPGe6Qk9PdXd11VtVb1U//+RZEOajz/Rv+DjnzOldC8aUR6RMfUTK1EekTH1EytRHpEx9RCrY7QdHl2OyEalQwHnh6nPLEapsRCpQGyihykekgdmAmhGqTEQa0BBQM0INj0g9cwFqRqhhEalHU4CaEap/RDoxH6BmhOoXkU4oBKgZoU6PSB1zAXp57cXlbL/XHqFOi0gdcgX6+MnD5QhVNiIdaQpQE6HKRqQD+QA1EapcRNpTCFATocpEpJYkgJoINTwi7fTP5sri4rXnrZDMXIGaXKDic+Jzs50RaasYQE2E6h+RNsUEaiJUv4j0aSmAmgh1erNHmhKoiVCnNWukOYCaCNW92SLNCbTd6vrb1s9tRqgzRaoFqIlQh5sdUm1ATYTa36yQagVqIlR7s0GqHaiJUHc2C6SlADUR6vaqR1oaUBOhPqtqpKUCNRHqVtUiLR2oiVArRnrzzgfWk2pWAlDTGFTc1pqbJdKSgJqGoBJpoQ0hLQ2oCd9ctttDpIU2hLTUVm68Yr09RFpoRFpPRFpQRFpZRFpPRFpQRFpZRFpPRFpQRFpZRFpPRFpQRFpZRFpPRFpQRFpZRFpPapHe2riyOLd2yHm/rh9v3nMrV6Rr9y9aP17frvx1unnP6R1b3VgcuHDHe6+f/Gjx2jf7d+yt0yesb+86HJfmVCIF0Pe/e2Hxztk9zvv8l1eb997KFSng2T7e0LrfEC4dXnmw2PXhVbXD8WlNHVIfoFhKpNgUqNqBmmmFqgqpL1AsNVLMBeql25tWEFqnEaoapCFAsRxIsSGoALr70DUrBs3TBlUF0lCgWC6kmA3q/X+fFAnUTBPU7EglgGI5kWI2qKX8W7RvWqBmReoC9OOfXl5sPv67eQ/3XJG69tWV/dbja88V6p4ja8s/aacmeT8pPj+Oo3ts3WmAmg1pTKBIGimSgOoLFEnfmV8K1CxIYwNFMZCiEKghQFGMR5xKgJocaQqgKBZS5As1tFgPi2qHmhRpKqAoJlKUA2rMx+41Q02GNCVQFBspSg01JlKkFWoSpKmBohRIUUqosZEijVCjI80BFKVCilJBTYEUaYMaFSme1pYDKIqF9NLdW8t1SwE1FVKkCWo0pDghthPVXiygKAZS4Nx95OByOaCmRIq0QI2CNDdQJI3UAN312bvL5YCaGinSAFUcqQagSBJpF2guqDmQIkB96evfrTjbiwVVFKkWoEgK6Zn161agZimh5kJq2ndq3YqzvRhQxZBqAoqGkN5+cLR5q+EOX7tshdnenuOfLu7/t9m8x/YkoQ5dAyAVUpQDqghSbUDREFJsDGooUJME1LGLVKREilJDDUaqESj6494n1hPaXh9UKaCmEKguV1HBbU1dSqhBSLUCNY1dtQO/300aqMkXKr6RbMduZrsNqUoF1RupdqCmPqgpgZqkoeYEakoB1QtpKUBNXag5gJqkoOJKJFqKDXUy0tKAmgzUnEBNoVA1XocqJtRJSEsFarL9Ryk1UJMv1LsbJ9VehyoWVGekpQO1lQuoyReq5mJAdUJKoPEi1PGckLp8IfE2paQFKHL5A6Ckry0CQBvM9gDZNee/7muBSqBxkwaKJv3HqXSoBBq3GEDRJKSoVKi+QPE/adzlY7tnwDdfoDg2HCNui7ZiAUWTkaLSoIYCNXegS0ANBWqOVxPUmECRF1JUClQpoBJQ8UOJtq9Tey5AzTRAjQ0UeSNF2qFKAzXzgeryU7NTgJrlhJoCKApCirRCPXb96RfJclLbswFFY89FxaZAdQF69Lc3m7fe3oFL563H3h5ua+pSAUXBSJFGqGMntw+oqfukFNtcoEq87sC+8yest8EMtzVlKYEiEaRIG9QhpGNATaFQJV8YYwhqSqSpgSIxpEgT1CGkLkBNvlABT/qFMfr+bZoKaQ6gSBQpcoF6avW95q3jNYR0ar5Qh+5u8nmuw95vj1hvTwqkuYAicaTIBSpOYMwkkSJJqL5PxsmFNCdQFAUpyg1VGimSgOoLFOVAmhsoioYU4a/1NkrbYkGNgRSFQA0BilIj1QAURUWKbH/ddRcDaiykyBdqaCmRagGKoiNFOaDGRIpyQE2FVBNQlAQpSg01NlLkAvXho++btw4vBVJtQFEypCgl1BRI0RBU/J5ksZFqBIqSIkWpoOLV8HDybJPOBlUaKIqJVCtQlBwpSvknqnR4qBPr1oZqA4rX+Dy2utH8yq9YSDUDRVmQohKhmsfisT6ofUDNqyUDhG8xkGoHirIhRSVB7T5ZpA9qN9vLeftClUZaAlCUFSlygYrLhOee7ckiY1CHXm9+75c3RtfF7Ir0jbN/Wj9ed7bjak8DUJQdKXKBqnV9UIeAuu7AhTvNR9vKFakLwLFpAYpUIEWlQh16qBMn2gbAdbmQagKK1CBFpUF1eSw+BGoOpNqAIlVIUSlQ8Swv1yeL+EJNjVQjUKQOKdIO1eenC3ygpkSqFShSiRThuqTn1g6p2w83v2iOcHoHf763hOe6MzcfNe+5lStS3Ctg+3h9w3FpTi1StjNXpLVFpAVFpEx9RFpZePkZnFTbSg3HTqQVhRNnO6FYqRFpZRFpPRFpQRFpZRFpPRFpQRFpZRFpPRFpQRFpZRFpPRFpQRFpZQ0hxasml9bQRSqItNCGkGIlQR27igqRFtrBlR+tJ7S9EqC6XOYHt7XmqkWKxq7agWmG6gK0xH+6TK1qpKhUqAT6rOqRotKgEuj2ZoEUlQKVQHc2G6RIO1QCtTcrpEgrVALtb3ZIkTaoBDrcLJEiLVAJdLzZIkW5oRKoW7NGinJBJVD3Zo8UpYZKoNMi0qZUUAl0ekTaygUqkPlGoH4RaadYUAnUPyK1JA2VQMMi0p6koBJoeEQ6UChUApWJSEfyhUqgchGpQ1OhEqhsROqYK1QClY9IJ+QCdWwEOj0inVgIVAL1i0g98oFKoP4RqWdToBJoWEQakAtUAg2PSAMbgkqgMhGpQDaoBCoXkQrVhkqgshGpYMBJoPIRKVMfkTL1ESlTH5Ey9REpU95i8T+PMrrr1B56MAAAAABJRU5ErkJggg=="}},["NHnr"]);
//# sourceMappingURL=app.24a157c11f268c9a24fc.js.map